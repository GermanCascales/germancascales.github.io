var Froogaloop=(function(){function Froogaloop(iframe){return new Froogaloop.fn.init(iframe);}
var eventCallbacks={},hasWindowEvent=false,isReady=false,slice=Array.prototype.slice,playerDomain='';Froogaloop.fn=Froogaloop.prototype={element:null,init:function(iframe){if(typeof iframe==="string"){iframe=document.getElementById(iframe);}
this.element=iframe;playerDomain=getDomainFromUrl(this.element.getAttribute('src'));return this;},api:function(method,valueOrCallback){if(!this.element||!method){return false;}
var self=this,element=self.element,target_id=element.id!==''?element.id:null,params=!isFunction(valueOrCallback)?valueOrCallback:null,callback=isFunction(valueOrCallback)?valueOrCallback:null;if(callback){storeCallback(method,callback,target_id);}
postMessage(method,params,element);return self;},addEvent:function(eventName,callback){if(!this.element){return false;}
var self=this,element=self.element,target_id=element.id!==''?element.id:null;storeCallback(eventName,callback,target_id);if(eventName!='ready'){postMessage('addEventListener',eventName,element);}
else if(eventName=='ready'&&isReady){callback.call(null,target_id);}
return self;},removeEvent:function(eventName){if(!this.element){return false;}
var self=this,element=self.element,target_id=element.id!==''?element.id:null,removed=removeCallback(eventName,target_id);if(eventName!='ready'&&removed){postMessage('removeEventListener',eventName,element);}}};function postMessage(method,params,target){if(!target.contentWindow.postMessage){return false;}
var url=target.getAttribute('src').split('?')[0],data=JSON.stringify({method:method,value:params});if(url.substr(0,2)==='//'){url=window.location.protocol+url;}
target.contentWindow.postMessage(data,url);}
function onMessageReceived(event){var data,method;try{data=JSON.parse(event.data);method=data.event||data.method;}
catch(e){}
if(method=='ready'&&!isReady){isReady=true;}
if(event.origin!=playerDomain){return false;}
var value=data.value,eventData=data.data,target_id=target_id===''?null:data.player_id,callback=getCallback(method,target_id),params=[];if(!callback){return false;}
if(value!==undefined){params.push(value);}
if(eventData){params.push(eventData);}
if(target_id){params.push(target_id);}
return params.length>0?callback.apply(null,params):callback.call();}
function storeCallback(eventName,callback,target_id){if(target_id){if(!eventCallbacks[target_id]){eventCallbacks[target_id]={};}
eventCallbacks[target_id][eventName]=callback;}
else{eventCallbacks[eventName]=callback;}}
function getCallback(eventName,target_id){if(target_id){return eventCallbacks[target_id][eventName];}
else{return eventCallbacks[eventName];}}
function removeCallback(eventName,target_id){if(target_id&&eventCallbacks[target_id]){if(!eventCallbacks[target_id][eventName]){return false;}
eventCallbacks[target_id][eventName]=null;}
else{if(!eventCallbacks[eventName]){return false;}
eventCallbacks[eventName]=null;}
return true;}
function getDomainFromUrl(url){if(url.substr(0,2)==='//'){url=window.location.protocol+url;}
var url_pieces=url.split('/'),domain_str='';for(var i=0,length=url_pieces.length;i<length;i++){if(i<3){domain_str+=url_pieces[i];}
else{break;}
if(i<2){domain_str+='/';}}
return domain_str;}
function isFunction(obj){return!!(obj&&obj.constructor&&obj.call&&obj.apply);}
function isArray(obj){return toString.call(obj)==='[object Array]';}
Froogaloop.fn.init.prototype=Froogaloop.fn;if(window.addEventListener){window.addEventListener('message',onMessageReceived,false);}
else{window.attachEvent('onmessage',onMessageReceived);}
return(window.Froogaloop=window.$f=Froogaloop);})();;function HashTable(obj)
{this.length=0;this.items={};for(var p in obj){if(obj.hasOwnProperty(p)){this.items[p]=obj[p];this.length++;}}
this.setItem=function(key,value)
{var previous=undefined;if(this.hasItem(key)){previous=this.items[key];}
else{this.length++;}
this.items[key]=value;return previous;}
this.getItem=function(key){return this.hasItem(key)?this.items[key]:undefined;}
this.hasItem=function(key)
{return this.items.hasOwnProperty(key);}
this.removeItem=function(key)
{if(this.hasItem(key)){previous=this.items[key];this.length--;delete this.items[key];return previous;}
else{return undefined;}}
this.keys=function()
{var keys=[];for(var k in this.items){if(this.hasItem(k)){keys.push(k);}}
return keys;}
this.values=function()
{var values=[];for(var k in this.items){if(this.hasItem(k)){values.push(this.items[k]);}}
return values;}
this.each=function(fn){for(var k in this.items){if(this.hasItem(k)){fn(k,this.items[k]);}}}
this.clear=function()
{this.items={}
this.length=0;}};(function($){$.fn.ddslick=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('Method '+method+' does not exists.');}};var methods={},defaults={data:[],keepJSONItemsOnTop:false,width:260,height:null,background:"#eee",selectText:"",defaultSelectedIndex:null,truncateDescription:true,imagePosition:"left",showSelectedHTML:true,clickOffToClose:true,onSelected:function(){}},ddSelectHtml='<div class="dd-select"><input class="dd-selected-value" type="hidden" /><a class="dd-selected"></a><span class="dd-pointer dd-pointer-down"></span></div>',ddOptionsHtml='<ul class="dd-options"></ul>',ddslickCSS='<style id="css-ddslick" type="text/css">'+'.dd-select{ border-radius:2px; border:solid 1px #ccc; position:relative; cursor:pointer;}'+'.dd-desc { color:#aaa; display:block; overflow: hidden; font-weight:normal; line-height: 1.4em; }'+'.dd-selected{ overflow:hidden; display:block; padding:10px; font-weight:bold;}'+'.dd-pointer{ width:0; height:0; position:absolute; right:10px; top:50%; margin-top:-3px;}'+'.dd-pointer-down{ border:solid 5px transparent; border-top:solid 5px #000; }'+'.dd-pointer-up{border:solid 5px transparent !important; border-bottom:solid 5px #000 !important; margin-top:-8px;}'+'.dd-options{ border:solid 1px #ccc; border-top:none; list-style:none; box-shadow:0px 1px 5px #ddd; display:none; position:absolute; z-index:2000; margin:0; padding:0;background:#fff; overflow:auto;}'+'.dd-option{ padding:10px; display:block; border-bottom:solid 1px #ddd; overflow:hidden; text-decoration:none; color:#333; cursor:pointer;-webkit-transition: all 0.25s ease-in-out; -moz-transition: all 0.25s ease-in-out;-o-transition: all 0.25s ease-in-out;-ms-transition: all 0.25s ease-in-out; }'+'.dd-options > li:last-child > .dd-option{ border-bottom:none;}'+'.dd-option:hover{ background:#f3f3f3; color:#000;}'+'.dd-selected-description-truncated { text-overflow: ellipsis; white-space:nowrap; }'+'.dd-option-selected { background:#f6f6f6; }'+'.dd-option-image, .dd-selected-image { vertical-align:middle; float:left; margin-right:5px; max-width:64px;}'+'.dd-image-right { float:right; margin-right:15px; margin-left:5px;}'+'.dd-container{ position:relative;}​ .dd-selected-text { font-weight:bold}​</style>';if($('#css-ddslick').length<=0){$(ddslickCSS).appendTo('head');}
methods.init=function(options){var options=$.extend({},defaults,options);return this.each(function(){var obj=$(this),data=obj.data('ddslick');if(!data){var ddSelect=[],ddJson=options.data;obj.find('option').each(function(){var $this=$(this),thisData=$this.data();ddSelect.push({text:$.trim($this.text()),value:$this.val(),selected:$this.is(':selected'),description:thisData.description,imageSrc:thisData.imagesrc});});if(options.keepJSONItemsOnTop)
$.merge(options.data,ddSelect);else options.data=$.merge(ddSelect,options.data);var original=obj,placeholder=$('<div id="'+obj.attr('id')+'"></div>');obj.replaceWith(placeholder);obj=placeholder;obj.addClass('dd-container').append(ddSelectHtml).append(ddOptionsHtml);var ddSelect=obj.find('.dd-select'),ddOptions=obj.find('.dd-options');ddOptions.css({width:options.width});ddSelect.css({width:options.width,background:options.background});obj.css({width:options.width});if(options.height!=null)
ddOptions.css({height:options.height,overflow:'auto'});$.each(options.data,function(index,item){if(item.selected)options.defaultSelectedIndex=index;ddOptions.append('<li>'+'<a class="dd-option">'+
(item.value?' <input class="dd-option-value" type="hidden" value="'+item.value+'" />':'')+
(item.imageSrc?' <img class="dd-option-image'+(options.imagePosition=="right"?' dd-image-right':'')+'" src="'+item.imageSrc+'" />':'')+
(item.text?' <label class="dd-option-text">'+item.text+'</label>':'')+
(item.description?' <small class="dd-option-description dd-desc">'+item.description+'</small>':'')+'</a>'+'</li>');});var pluginData={settings:options,original:original,selectedIndex:-1,selectedItem:null,selectedData:null}
obj.data('ddslick',pluginData);if(options.selectText.length>0&&options.defaultSelectedIndex==null){obj.find('.dd-selected').html(options.selectText);}
else{var index=(options.defaultSelectedIndex!=null&&options.defaultSelectedIndex>=0&&options.defaultSelectedIndex<options.data.length)?options.defaultSelectedIndex:0;selectIndex(obj,index);}
obj.find('.dd-select').on('click.ddslick',function(){open(obj);});obj.find('.dd-option').on('click.ddslick',function(){selectIndex(obj,$(this).closest('li').index());});if(options.clickOffToClose){ddOptions.addClass('dd-click-off-close');obj.on('click.ddslick',function(e){e.stopPropagation();});$('body').on('click',function(){$('.dd-click-off-close').slideUp(50).siblings('.dd-select').find('.dd-pointer').removeClass('dd-pointer-up');});}}});};methods.select=function(options){return this.each(function(){if(options.index)
selectIndex($(this),options.index);});}
methods.open=function(){return this.each(function(){var $this=$(this),pluginData=$this.data('ddslick');if(pluginData)
open($this);});};methods.close=function(){return this.each(function(){var $this=$(this),pluginData=$this.data('ddslick');if(pluginData)
close($this);});};methods.destroy=function(){return this.each(function(){var $this=$(this),pluginData=$this.data('ddslick');if(pluginData){var originalElement=pluginData.original;$this.removeData('ddslick').unbind('.ddslick').replaceWith(originalElement);}});}
function selectIndex(obj,index){var pluginData=obj.data('ddslick');var ddSelected=obj.find('.dd-selected'),ddSelectedValue=ddSelected.siblings('.dd-selected-value'),ddOptions=obj.find('.dd-options'),ddPointer=ddSelected.siblings('.dd-pointer'),selectedOption=obj.find('.dd-option').eq(index),selectedLiItem=selectedOption.closest('li'),settings=pluginData.settings,selectedData=pluginData.settings.data[index];obj.find('.dd-option').removeClass('dd-option-selected');selectedOption.addClass('dd-option-selected');pluginData.selectedIndex=index;pluginData.selectedItem=selectedLiItem;pluginData.selectedData=selectedData;if(settings.showSelectedHTML){ddSelected.html((selectedData.imageSrc?'<img class="dd-selected-image'+(settings.imagePosition=="right"?' dd-image-right':'')+'" src="'+selectedData.imageSrc+'" />':'')+
(selectedData.text?'<label class="dd-selected-text">'+selectedData.text+'</label>':'')+
(selectedData.description?'<small class="dd-selected-description dd-desc'+(settings.truncateDescription?' dd-selected-description-truncated':'')+'" >'+selectedData.description+'</small>':''));}
else ddSelected.html(selectedData.text);ddSelectedValue.val(selectedData.value);pluginData.original.val(selectedData.value);obj.data('ddslick',pluginData);close(obj);adjustSelectedHeight(obj);if(typeof settings.onSelected=='function'){settings.onSelected.call(this,pluginData);}}
function open(obj){var $this=obj.find('.dd-select'),ddOptions=$this.siblings('.dd-options'),ddPointer=$this.find('.dd-pointer'),wasOpen=ddOptions.is(':visible');$('.dd-click-off-close').not(ddOptions).slideUp(50);$('.dd-pointer').removeClass('dd-pointer-up');if(wasOpen){ddOptions.slideUp('fast');ddPointer.removeClass('dd-pointer-up');}
else{ddOptions.slideDown('fast');ddPointer.addClass('dd-pointer-up');}
adjustOptionsHeight(obj);}
function close(obj){obj.find('.dd-options').slideUp(50);obj.find('.dd-pointer').removeClass('dd-pointer-up').removeClass('dd-pointer-up');}
function adjustSelectedHeight(obj){var lSHeight=obj.find('.dd-select').css('height');var descriptionSelected=obj.find('.dd-selected-description');var imgSelected=obj.find('.dd-selected-image');if(descriptionSelected.length<=0&&imgSelected.length>0){obj.find('.dd-selected-text').css('lineHeight',lSHeight);}}
function adjustOptionsHeight(obj){obj.find('.dd-option').each(function(){var $this=$(this);var lOHeight=$this.css('height');var descriptionOption=$this.find('.dd-option-description');var imgOption=obj.find('.dd-option-image');if(descriptionOption.length<=0&&imgOption.length>0){$this.find('.dd-option-text').css('lineHeight',lOHeight);}});}})(jQuery);;eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(8($){$.4=8(g){9 h=[],m=[],y=[],1o=[],p=u;3(g&&!(g.1p(\'v\'))&&7 g===\'17\'&&7 g.v===\'12\'){h=g}D{h[0]=g}8 O(f,a){3($.18(f)||7 f===\'P\'){3($.18(f)){f(a);w q}D{9 b=19[f];3(7 b===\'8\'){b(a);w q}D{3(7 1a(f)==="8"){1a(f).1q(1r,a);w q}}}w z}w q}8 U(b){3(!(V)){19.V={1b:"",1c:8(a){V.1b+=a+"\\n";w q}}}V.1c(b)}8 13(a){9 j;9 b=$.4.5[a].A;3(b){E(j=0;j<b.v;j++){O(b[j].r,b[j].6)}$.4.5[a].A=[]}w q}8 1d(b){9 i,j,Q,o;E(j=0;j<$.4.5[b].s.v;j++){o=$.4.5[b].s[j];3(o.R===0){Q=q;E(i=0;i<o.L.v;i++){3($.4.5[o.L[i]]){3($.4.5[o.L[i]].F===0){Q=z;W}}D{Q=z;W}}3(Q){O(o.M,o.6);$.4.5[b].s[j].R=1;$.4.5[b].s[j].L=u;$.4.5[b].s[j].o="";$.4.5[b].s[j].6=u}}}$.4.5[b].s=$.1s($.4.5[b].s,8(a){w a.R!==1})}8 14(a){13(a);1d(a)}8 1e(a){9 b=a.G;3(!a.B){9 d=1t 1u();b=b+"?"+d.1v()}9 c=1f.1w(\'1x\');c.N=\'1y/15\';c.1z=\'1A\';c.1B=b;c.1C=\'1D\';1f.1E("1F")[0].1G(c);$.4.5[a.G].F=1;14(a.G);w q}8 1g(d){9 e=d.G;$.1h({N:"1H",1I:e,H:d.H,B:d.B,1J:"1K",I:8(a,b,c){$.4.5[e].F=-1;$.4.5[e].I="4 1h I: "+b+" - "+c;U($.4.5[e].I);U(\'4 I 1L 1M: \'+e)},1N:{1i:8(){$.4.5[e].F=-2;$.4.5[e].I="4 I: 1i - 1O 1P 1Q: "+e;U($.4.5[e].I)}},1R:8(){$.4.5[e].F=1;14(e)}})}8 1j(a){w a.1S(\'.\').1T().1U()}$.1V(h,8(i,a){3(7 a.S==="X"){$.4.5.S=a.S}3(7 a.T==="X"){$.4.5.T=a.T}3(7 a.o===\'P\'){3(a.o===\'1k\'||a.o===\'1l\'){3(7 a.M===\'P\'||7 a.M===\'8\'){9 b=u;3(a.6){b=a.6}3(b===u){a.6={}}a.R=0;y.C(a)}}}D{3(7 a.G===\'P\'){a.N=1j(a.G);3(a.N===\'1m\'||a.N===\'15\'){9 c=u;3(a.r){3(7 a.r===\'P\'||7 a.r===\'8\'){c=a.r}}a.r=c;9 d={};3(7 a.6!=="16"){3(7 a.6==="17"){d=a.6}}a.6=d;9 e=$.4.5.T;3(7 a.H!=="16"){3(7 a.H==="X"){e=a.H}3((7 a.H==="12")&&a.H===1){e=q}}a.H=e;9 f=$.4.5.S;3(7 a.B!=="16"){3(7 a.B==="X"){f=a.B}3((7 a.B==="12")&&a.B===1){f=q}}a.B=f;m.C(a)}}}});9 i,j,Y;E(i=0;i<y.v;i++){3(y[i].o==="1l"){O(y[i].M,y[i].6)}3(y[i].o==="1k"){Y=[];E(j=0;j<m.v;j++){Y.C(m[j].G)}y[i].L=Y;p=y[i]}}9 k="",Z="",x,J,t,K;9 l,10,11=q;E(j=0;j<m.v;j++){k=m[j].G;Z=m[j].N;3(!$.4.5[k]){11=z;J={};J.F=0;J.A=[];J.s=[];t={};t.r=m[j].r;t.6=m[j].6;J.A.C(t);3(p!==u){J.s.C(p)}$.4.5[k]=J;3(Z===\'15\'){1e(m[j]);1n=z}3(Z===\'1m\'){1g(m[j]);1n=z}}D{3($.4.5[k].F===1){t={};t.r=m[j].r;t.6=m[j].6;$.4.5[k].A.C(t);3(p!==u){$.4.5[k].s.C(p)}13(k)}D{3($.4.5[k].F===0){l=q;E(x=0;x<$.4.5[k].A.v;x++){3($.4.5[k].A[x].r===m[j].r&&$.4.5[k].A[x].6===m[j].6){l=z;W}}3(l){t={};t.r=m[j].r;t.6=m[j].6;$.4.5[k].A.C(t)}3(p!==u){10=q;E(x=0;x<$.4.5[k].s.v;x++){K=$.4.5[k].s[x];3(K===u){1W}3(K.o===p.o&&K.M===p.M&&K.6===p.6&&K.L===p.L&&K.R===0){10=z;W}}3(10){$.4.5[k].s.C(p)}}}D{11=z}}}}3(11&&p!==u){O(p.M,p.6)}};$.4.5={S:q,T:q}})(1X);',62,122,'|||if|rloader|track|arg|typeof|function|var|||||||||||||resourcestoload||event|onreadyevent|true|callback|_evts|callbstruct|null|length|return|xxx|eventstohandle|false|_cback|cache|push|else|for|status|src|async|error|trackstruct|estruct|rlist|func|type|runFunction|string|fire|fired|defaultcache|defaultasync|add2console|console|break|boolean|justres|restype|addevent|allresourcesloaded|number|processAttachedCallbacks|doEvent|css|undefined|object|isFunction|window|eval|tlog|log|processAttachedEvents|loadCSS|document|loadJS|ajax|404|getFileType|onready|beforeload|js|all_loaded|attachevents|propertyIsEnumerable|call|this|grep|new|Date|getTime|createElement|link|text|rel|stylesheet|href|media|screen|getElementsByTagName|head|appendChild|GET|url|dataType|script|on|resource|statusCode|Resource|NOT|found|success|split|pop|toLowerCase|each|continue|jQuery'.split('|'),0,{}));;
/* SWFObject v2.2 <http://code.google.com/p/swfobject/> 
 is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
var swfobject=function(){var UNDEF="undefined",OBJECT="object",SHOCKWAVE_FLASH="Shockwave Flash",SHOCKWAVE_FLASH_AX="ShockwaveFlash.ShockwaveFlash",FLASH_MIME_TYPE="application/x-shockwave-flash",EXPRESS_INSTALL_ID="SWFObjectExprInst",ON_READY_STATE_CHANGE="onreadystatechange",win=window,doc=document,nav=navigator,plugin=false,domLoadFnArr=[main],regObjArr=[],objIdArr=[],listenersArr=[],storedAltContent,storedAltContentId,storedCallbackFn,storedCallbackObj,isDomLoaded=false,isExpressInstallActive=false,dynamicStylesheet,dynamicStylesheetMedia,autoHideShow=true,ua=function(){var w3cdom=typeof doc.getElementById!=UNDEF&&typeof doc.getElementsByTagName!=UNDEF&&typeof doc.createElement!=UNDEF,u=nav.userAgent.toLowerCase(),p=nav.platform.toLowerCase(),windows=p?/win/.test(p):/win/.test(u),mac=p?/mac/.test(p):/mac/.test(u),webkit=/webkit/.test(u)?parseFloat(u.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,ie=!+"\v1",playerVersion=[0,0,0],d=null;if(typeof nav.plugins!=UNDEF&&typeof nav.plugins[SHOCKWAVE_FLASH]==OBJECT){d=nav.plugins[SHOCKWAVE_FLASH].description;if(d&&!(typeof nav.mimeTypes!=UNDEF&&nav.mimeTypes[FLASH_MIME_TYPE]&&!nav.mimeTypes[FLASH_MIME_TYPE].enabledPlugin)){plugin=true;ie=false;d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1");playerVersion[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10);playerVersion[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10);playerVersion[2]=/[a-zA-Z]/.test(d)?parseInt(d.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0;}}
else if(typeof win.ActiveXObject!=UNDEF){try{var a=new ActiveXObject(SHOCKWAVE_FLASH_AX);if(a){d=a.GetVariable("$version");if(d){ie=true;d=d.split(" ")[1].split(",");playerVersion=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}}
catch(e){}}
return{w3:w3cdom,pv:playerVersion,wk:webkit,ie:ie,win:windows,mac:mac};}(),onDomLoad=function(){if(!ua.w3){return;}
if((typeof doc.readyState!=UNDEF&&doc.readyState=="complete")||(typeof doc.readyState==UNDEF&&(doc.getElementsByTagName("body")[0]||doc.body))){callDomLoadFunctions();}
if(!isDomLoaded){if(typeof doc.addEventListener!=UNDEF){doc.addEventListener("DOMContentLoaded",callDomLoadFunctions,false);}
if(ua.ie&&ua.win){doc.attachEvent(ON_READY_STATE_CHANGE,function(){if(doc.readyState=="complete"){doc.detachEvent(ON_READY_STATE_CHANGE,arguments.callee);callDomLoadFunctions();}});if(win==top){(function(){if(isDomLoaded){return;}
try{doc.documentElement.doScroll("left");}
catch(e){setTimeout(arguments.callee,0);return;}
callDomLoadFunctions();})();}}
if(ua.wk){(function(){if(isDomLoaded){return;}
if(!/loaded|complete/.test(doc.readyState)){setTimeout(arguments.callee,0);return;}
callDomLoadFunctions();})();}
addLoadEvent(callDomLoadFunctions);}}();function callDomLoadFunctions(){if(isDomLoaded){return;}
try{var t=doc.getElementsByTagName("body")[0].appendChild(createElement("span"));t.parentNode.removeChild(t);}
catch(e){return;}
isDomLoaded=true;var dl=domLoadFnArr.length;for(var i=0;i<dl;i++){domLoadFnArr[i]();}}
function addDomLoadEvent(fn){if(isDomLoaded){fn();}
else{domLoadFnArr[domLoadFnArr.length]=fn;}}
function addLoadEvent(fn){if(typeof win.addEventListener!=UNDEF){win.addEventListener("load",fn,false);}
else if(typeof doc.addEventListener!=UNDEF){doc.addEventListener("load",fn,false);}
else if(typeof win.attachEvent!=UNDEF){addListener(win,"onload",fn);}
else if(typeof win.onload=="function"){var fnOld=win.onload;win.onload=function(){fnOld();fn();};}
else{win.onload=fn;}}
function main(){if(plugin){testPlayerVersion();}
else{matchVersions();}}
function testPlayerVersion(){var b=doc.getElementsByTagName("body")[0];var o=createElement(OBJECT);o.setAttribute("type",FLASH_MIME_TYPE);var t=b.appendChild(o);if(t){var counter=0;(function(){if(typeof t.GetVariable!=UNDEF){var d=t.GetVariable("$version");if(d){d=d.split(" ")[1].split(",");ua.pv=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}
else if(counter<10){counter++;setTimeout(arguments.callee,10);return;}
b.removeChild(o);t=null;matchVersions();})();}
else{matchVersions();}}
function matchVersions(){var rl=regObjArr.length;if(rl>0){for(var i=0;i<rl;i++){var id=regObjArr[i].id;var cb=regObjArr[i].callbackFn;var cbObj={success:false,id:id};if(ua.pv[0]>0){var obj=getElementById(id);if(obj){if(hasPlayerVersion(regObjArr[i].swfVersion)&&!(ua.wk&&ua.wk<312)){setVisibility(id,true);if(cb){cbObj.success=true;cbObj.ref=getObjectById(id);cb(cbObj);}}
else if(regObjArr[i].expressInstall&&canExpressInstall()){var att={};att.data=regObjArr[i].expressInstall;att.width=obj.getAttribute("width")||"0";att.height=obj.getAttribute("height")||"0";if(obj.getAttribute("class")){att.styleclass=obj.getAttribute("class");}
if(obj.getAttribute("align")){att.align=obj.getAttribute("align");}
var par={};var p=obj.getElementsByTagName("param");var pl=p.length;for(var j=0;j<pl;j++){if(p[j].getAttribute("name").toLowerCase()!="movie"){par[p[j].getAttribute("name")]=p[j].getAttribute("value");}}
showExpressInstall(att,par,id,cb);}
else{displayAltContent(obj);if(cb){cb(cbObj);}}}}
else{setVisibility(id,true);if(cb){var o=getObjectById(id);if(o&&typeof o.SetVariable!=UNDEF){cbObj.success=true;cbObj.ref=o;}
cb(cbObj);}}}}}
function getObjectById(objectIdStr){var r=null;var o=getElementById(objectIdStr);if(o&&o.nodeName=="OBJECT"){if(typeof o.SetVariable!=UNDEF){r=o;}
else{var n=o.getElementsByTagName(OBJECT)[0];if(n){r=n;}}}
return r;}
function canExpressInstall(){return!isExpressInstallActive&&hasPlayerVersion("6.0.65")&&(ua.win||ua.mac)&&!(ua.wk&&ua.wk<312);}
function showExpressInstall(att,par,replaceElemIdStr,callbackFn){isExpressInstallActive=true;storedCallbackFn=callbackFn||null;storedCallbackObj={success:false,id:replaceElemIdStr};var obj=getElementById(replaceElemIdStr);if(obj){if(obj.nodeName=="OBJECT"){storedAltContent=abstractAltContent(obj);storedAltContentId=null;}
else{storedAltContent=obj;storedAltContentId=replaceElemIdStr;}
att.id=EXPRESS_INSTALL_ID;if(typeof att.width==UNDEF||(!/%$/.test(att.width)&&parseInt(att.width,10)<310)){att.width="310";}
if(typeof att.height==UNDEF||(!/%$/.test(att.height)&&parseInt(att.height,10)<137)){att.height="137";}
doc.title=doc.title.slice(0,47)+" - Flash Player Installation";var pt=ua.ie&&ua.win?"ActiveX":"PlugIn",fv="MMredirectURL="+encodeURI(window.location).toString().replace(/&/g,"%26")+"&MMplayerType="+pt+"&MMdoctitle="+doc.title;if(typeof par.flashvars!=UNDEF){par.flashvars+="&"+fv;}
else{par.flashvars=fv;}
if(ua.ie&&ua.win&&obj.readyState!=4){var newObj=createElement("div");replaceElemIdStr+="SWFObjectNew";newObj.setAttribute("id",replaceElemIdStr);obj.parentNode.insertBefore(newObj,obj);obj.style.display="none";(function(){if(obj.readyState==4){obj.parentNode.removeChild(obj);}
else{setTimeout(arguments.callee,10);}})();}
createSWF(att,par,replaceElemIdStr);}}
function displayAltContent(obj){if(ua.ie&&ua.win&&obj.readyState!=4){var el=createElement("div");obj.parentNode.insertBefore(el,obj);el.parentNode.replaceChild(abstractAltContent(obj),el);obj.style.display="none";(function(){if(obj.readyState==4){obj.parentNode.removeChild(obj);}
else{setTimeout(arguments.callee,10);}})();}
else{obj.parentNode.replaceChild(abstractAltContent(obj),obj);}}
function abstractAltContent(obj){var ac=createElement("div");if(ua.win&&ua.ie){ac.innerHTML=obj.innerHTML;}
else{var nestedObj=obj.getElementsByTagName(OBJECT)[0];if(nestedObj){var c=nestedObj.childNodes;if(c){var cl=c.length;for(var i=0;i<cl;i++){if(!(c[i].nodeType==1&&c[i].nodeName=="PARAM")&&!(c[i].nodeType==8)){ac.appendChild(c[i].cloneNode(true));}}}}}
return ac;}
function createSWF(attObj,parObj,id){var r,el=getElementById(id);if(ua.wk&&ua.wk<312){return r;}
if(el){if(typeof attObj.id==UNDEF){attObj.id=id;}
if(ua.ie&&ua.win){var att="";for(var i in attObj){if(attObj[i]!=Object.prototype[i]){if(i.toLowerCase()=="data"){parObj.movie=attObj[i];}
else if(i.toLowerCase()=="styleclass"){att+=' class="'+attObj[i]+'"';}
else if(i.toLowerCase()!="classid"){att+=' '+i+'="'+attObj[i]+'"';}}}
var par="";for(var j in parObj){if(parObj[j]!=Object.prototype[j]){par+='<param name="'+j+'" value="'+parObj[j]+'" />';}}
el.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+att+'>'+par+'</object>';objIdArr[objIdArr.length]=attObj.id;r=getElementById(attObj.id);}
else{var o=createElement(OBJECT);o.setAttribute("type",FLASH_MIME_TYPE);for(var m in attObj){if(attObj[m]!=Object.prototype[m]){if(m.toLowerCase()=="styleclass"){o.setAttribute("class",attObj[m]);}
else if(m.toLowerCase()!="classid"){o.setAttribute(m,attObj[m]);}}}
for(var n in parObj){if(parObj[n]!=Object.prototype[n]&&n.toLowerCase()!="movie"){createObjParam(o,n,parObj[n]);}}
el.parentNode.replaceChild(o,el);r=o;}}
return r;}
function createObjParam(el,pName,pValue){var p=createElement("param");p.setAttribute("name",pName);p.setAttribute("value",pValue);el.appendChild(p);}
function removeSWF(id){var obj=getElementById(id);if(obj&&obj.nodeName=="OBJECT"){if(ua.ie&&ua.win){obj.style.display="none";(function(){if(obj.readyState==4){removeObjectInIE(id);}
else{setTimeout(arguments.callee,10);}})();}
else{obj.parentNode.removeChild(obj);}}}
function removeObjectInIE(id){var obj=getElementById(id);if(obj){for(var i in obj){if(typeof obj[i]=="function"){obj[i]=null;}}
obj.parentNode.removeChild(obj);}}
function getElementById(id){var el=null;try{el=doc.getElementById(id);}
catch(e){}
return el;}
function createElement(el){return doc.createElement(el);}
function addListener(target,eventType,fn){target.attachEvent(eventType,fn);listenersArr[listenersArr.length]=[target,eventType,fn];}
function hasPlayerVersion(rv){var pv=ua.pv,v=rv.split(".");v[0]=parseInt(v[0],10);v[1]=parseInt(v[1],10)||0;v[2]=parseInt(v[2],10)||0;return(pv[0]>v[0]||(pv[0]==v[0]&&pv[1]>v[1])||(pv[0]==v[0]&&pv[1]==v[1]&&pv[2]>=v[2]))?true:false;}
function createCSS(sel,decl,media,newStyle){if(ua.ie&&ua.mac){return;}
var h=doc.getElementsByTagName("head")[0];if(!h){return;}
var m=(media&&typeof media=="string")?media:"screen";if(newStyle){dynamicStylesheet=null;dynamicStylesheetMedia=null;}
if(!dynamicStylesheet||dynamicStylesheetMedia!=m){var s=createElement("style");s.setAttribute("type","text/css");s.setAttribute("media",m);dynamicStylesheet=h.appendChild(s);if(ua.ie&&ua.win&&typeof doc.styleSheets!=UNDEF&&doc.styleSheets.length>0){dynamicStylesheet=doc.styleSheets[doc.styleSheets.length-1];}
dynamicStylesheetMedia=m;}
if(ua.ie&&ua.win){if(dynamicStylesheet&&typeof dynamicStylesheet.addRule==OBJECT){dynamicStylesheet.addRule(sel,decl);}}
else{if(dynamicStylesheet&&typeof doc.createTextNode!=UNDEF){dynamicStylesheet.appendChild(doc.createTextNode(sel+" {"+decl+"}"));}}}
function setVisibility(id,isVisible){if(!autoHideShow){return;}
var v=isVisible?"visible":"hidden";if(isDomLoaded&&getElementById(id)){getElementById(id).style.visibility=v;}
else{createCSS("#"+id,"visibility:"+v);}}
function urlEncodeIfNecessary(s){var regex=/[\\\"<>\.;]/;var hasBadChars=regex.exec(s)!=null;return hasBadChars&&typeof encodeURIComponent!=UNDEF?encodeURIComponent(s):s;}
var cleanup=function(){if(ua.ie&&ua.win){window.attachEvent("onunload",function(){var ll=listenersArr.length;for(var i=0;i<ll;i++){listenersArr[i][0].detachEvent(listenersArr[i][1],listenersArr[i][2]);}
var il=objIdArr.length;for(var j=0;j<il;j++){removeSWF(objIdArr[j]);}
for(var k in ua){ua[k]=null;}
ua=null;for(var l in swfobject){swfobject[l]=null;}
swfobject=null;});}}();return{registerObject:function(objectIdStr,swfVersionStr,xiSwfUrlStr,callbackFn){if(ua.w3&&objectIdStr&&swfVersionStr){var regObj={};regObj.id=objectIdStr;regObj.swfVersion=swfVersionStr;regObj.expressInstall=xiSwfUrlStr;regObj.callbackFn=callbackFn;regObjArr[regObjArr.length]=regObj;setVisibility(objectIdStr,false);}
else if(callbackFn){callbackFn({success:false,id:objectIdStr});}},getObjectById:function(objectIdStr){if(ua.w3){return getObjectById(objectIdStr);}},embedSWF:function(swfUrlStr,replaceElemIdStr,widthStr,heightStr,swfVersionStr,xiSwfUrlStr,flashvarsObj,parObj,attObj,callbackFn){var callbackObj={success:false,id:replaceElemIdStr};if(ua.w3&&!(ua.wk&&ua.wk<312)&&swfUrlStr&&replaceElemIdStr&&widthStr&&heightStr&&swfVersionStr){setVisibility(replaceElemIdStr,false);addDomLoadEvent(function(){widthStr+="";heightStr+="";var att={};if(attObj&&typeof attObj===OBJECT){for(var i in attObj){att[i]=attObj[i];}}
att.data=swfUrlStr;att.width=widthStr;att.height=heightStr;var par={};if(parObj&&typeof parObj===OBJECT){for(var j in parObj){par[j]=parObj[j];}}
if(flashvarsObj&&typeof flashvarsObj===OBJECT){for(var k in flashvarsObj){if(typeof par.flashvars!=UNDEF){par.flashvars+="&"+k+"="+flashvarsObj[k];}
else{par.flashvars=k+"="+flashvarsObj[k];}}}
if(hasPlayerVersion(swfVersionStr)){var obj=createSWF(att,par,replaceElemIdStr);if(att.id==replaceElemIdStr){setVisibility(replaceElemIdStr,true);}
callbackObj.success=true;callbackObj.ref=obj;}
else if(xiSwfUrlStr&&canExpressInstall()){att.data=xiSwfUrlStr;showExpressInstall(att,par,replaceElemIdStr,callbackFn);return;}
else{setVisibility(replaceElemIdStr,true);}
if(callbackFn){callbackFn(callbackObj);}});}
else if(callbackFn){callbackFn(callbackObj);}},switchOffAutoHideShow:function(){autoHideShow=false;},ua:ua,getFlashPlayerVersion:function(){return{major:ua.pv[0],minor:ua.pv[1],release:ua.pv[2]};},hasFlashPlayerVersion:hasPlayerVersion,createSWF:function(attObj,parObj,replaceElemIdStr){if(ua.w3){return createSWF(attObj,parObj,replaceElemIdStr);}
else{return undefined;}},showExpressInstall:function(att,par,replaceElemIdStr,callbackFn){if(ua.w3&&canExpressInstall()){showExpressInstall(att,par,replaceElemIdStr,callbackFn);}},removeSWF:function(objElemIdStr){if(ua.w3){removeSWF(objElemIdStr);}},createCSS:function(selStr,declStr,mediaStr,newStyleBoolean){if(ua.w3){createCSS(selStr,declStr,mediaStr,newStyleBoolean);}},addDomLoadEvent:addDomLoadEvent,addLoadEvent:addLoadEvent,getQueryParamValue:function(param){var q=doc.location.search||doc.location.hash;if(q){if(/\?/.test(q)){q=q.split("?")[1];}
if(param==null){return urlEncodeIfNecessary(q);}
var pairs=q.split("&");for(var i=0;i<pairs.length;i++){if(pairs[i].substring(0,pairs[i].indexOf("="))==param){return urlEncodeIfNecessary(pairs[i].substring((pairs[i].indexOf("=")+1)));}}}
return"";},expressInstallCallback:function(){if(isExpressInstallActive){var obj=getElementById(EXPRESS_INSTALL_ID);if(obj&&storedAltContent){obj.parentNode.replaceChild(storedAltContent,obj);if(storedAltContentId){setVisibility(storedAltContentId,true);if(ua.ie&&ua.win){storedAltContent.style.display="block";}}
if(storedCallbackFn){storedCallbackFn(storedCallbackObj);}}
isExpressInstallActive=false;}}};}();;function VideoData(){this.id=0;this.xmlDoc;this.channelName='';this.title='';this.description='';this.urlCrop='';this.xmlServices='';this.vast=null;this.playList=new Array();this.indexSelected=0;this.isFlashEnabled=false;this.skipAdRemain=10;this.identify=new Date().getTime()+String('000000'+Math.floor((Math.random()*1000000))).slice(-6);this.contentType={CONTENT_TYPE_CONTENT:"0",CONTENT_TYPE_PREROLL:"7",CONTENT_TYPE_POSROLL:"8",CONTENT_TYPE_OVERLAY:"9",CONTENT_TYPE_MIDROLL:"14"};this.clips=new Array();}
VideoData.prototype.formatDate=function(){var myDate=new Date();return myDate.getFullYear().toString().substr(2,2)+""+this.twoDigits(myDate.getMonth()+1)+""+this.twoDigits(myDate.getDate())+""+this.twoDigits(myDate.getHours())+""+this.twoDigits(myDate.getMinutes())+""+this.twoDigits(myDate.getSeconds())+""+this.twoDigits(myDate.getMilliseconds())+""+parseInt(Math.random()*1000000);}
VideoData.prototype.twoDigits=function(num){var result="00";try{if(num<10){result="0"+num;}else if(num>99){result=num.toString().substr((result.lenght-2),2);}else{result=num;}}catch(error){result="00";}
return result;}
VideoData.prototype.getSkipAdRemain=function(){return this.skipAdRemain;}
VideoData.prototype.load=function(urlService,id,callback){this.id=id;try
{var httpRequest;if(window.XMLHttpRequest)
{httpRequest=new XMLHttpRequest();}
else if(window.ActiveXObject)
{try{httpRequest=new ActiveXObject("MSXML2.XMLHTTP");}catch(e){try{httpRequest=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){}}}
if(!httpRequest)
{}}
catch(e)
{try{var xmlhttp=new window.XMLHttpRequest();}
catch(e)
{callback(id,'error');this.xmlDoc=undefined;}}
httpRequest.open("GET",urlService,false);httpRequest.send();this.xmlDoc=httpRequest.responseXML;if(this.xmlDoc){this.createPlayList();callback(id,'success');}else{callback(id,'error');}}
VideoData.prototype.getId=function(){try{return this.id;}catch(error){return"";}}
VideoData.prototype.getChannelName=function(){try{if(typeof this.xmlDoc.getElementsByTagName('channel')[0]!='undefined'){return this.xmlDoc.getElementsByTagName('channel')[0].firstChild.nodeValue;}else{return"";}}catch(error){return"";}}
VideoData.prototype.getTitle=function(){try{if(typeof this.xmlDoc.getElementsByTagName('title')[0].childNodes.length>1){return this.xmlDoc.getElementsByTagName('title')[0].childNodes[1].nodeValue.trim();}else{return this.xmlDoc.getElementsByTagName('title')[0].firstChild.nodeValue.trim();}}catch(error){return"";}}
VideoData.prototype.getDescription=function(){try{if(typeof this.xmlDoc.getElementsByTagName('description')[0].childNodes.length>1){return this.xmlDoc.getElementsByTagName('description')[0].childNodes[1].nodeValue.trim();}else if(typeof this.xmlDoc.getElementsByTagName('description')[0]!='undefined'){return this.xmlDoc.getElementsByTagName('description')[0].firstChild.nodeValue.trim();;}else{return"";}}catch(error){return"";}}
VideoData.prototype.getIntroduction=function(){try{if(typeof this.xmlDoc.getElementsByTagName('introduction')[0].childNodes.length>1){return this.xmlDoc.getElementsByTagName('introduction')[0].childNodes[1].nodeValue.trim();}else{return this.xmlDoc.getElementsByTagName('introduction')[0].firstChild.nodeValue.trim();}}catch(error){return"";}}
VideoData.prototype.getUrlCrop=function(){var result="";try{if(typeof this.xmlDoc.getElementsByTagName('picture')[0]!='undefined'){result=this.xmlDoc.getElementsByTagName('picture')[0].firstChild.nodeValue.trim();}
if(result==""&&this.getSlider().length>0){result=this.getSlider()[0].img;}
return result;}catch(error){return"";}}
VideoData.prototype.getTimeToCloseConnection=function(){var result=3600;try{if(typeof this.xmlDoc.getElementsByTagName('time_to_close_connection')[0]!='undefined'){result=this.xmlDoc.getElementsByTagName('time_to_close_connection')[0].firstChild.nodeValue.trim();}
return result;}catch(error){return 3600;}}
VideoData.prototype.getSlider=function(){var item;var result=new Array();try{if(result==""){if((typeof this.xmlDoc.getElementsByTagName('pictures')[0]!='undefined')&&(this.xmlDoc.getElementsByTagName('pictures')[0].childNodes.length>1)){for(var i=0;i<this.xmlDoc.getElementsByTagName('pictures')[0].childNodes.length;i++){if(this.xmlDoc.getElementsByTagName('pictures')[0].childNodes[i].nodeType==1){item=Object.create(null);for(var j=0;j<this.xmlDoc.getElementsByTagName('pictures')[0].childNodes[i].childNodes.length;j++){if(this.xmlDoc.getElementsByTagName('pictures')[0].childNodes[i].childNodes[j].nodeType==1){Object.defineProperty(item,this.xmlDoc.getElementsByTagName('pictures')[0].childNodes[i].childNodes[j].nodeName,{value:this.xmlDoc.getElementsByTagName('pictures')[0].childNodes[i].childNodes[j].textContent.trim(),writable:true,configurable:true,enumerable:true});}}
result.push(item);}}}}
return result;}catch(error){return"";}}
VideoData.prototype.getPlayList=function(){return this.playList;}
VideoData.prototype.createPlayList=function(){this.playList=new Array();try{var contentsXML=this.xmlDoc.getElementsByTagName('contents')[0];var xmlContent;if(contentsXML.length>0)
{eventos=new Array();}
for(var i=0;i<contentsXML.childNodes.length;i++)
{xmlContent=contentsXML.childNodes[i];if(xmlContent.nodeType==1){if(xmlContent.getAttribute('type')=='content'){urlVideo="";urlDownload="";if(this.isFlashEnabled){if(typeof xmlContent.getElementsByTagName('url')!='undefined'){if(xmlContent.getElementsByTagName('url').length>0&&xmlContent.getElementsByTagName('url')[0].firstChild!=null){urlVideo=xmlContent.getElementsByTagName('url')[0].firstChild.nodeValue;}}}else if(detectIpad()){if(typeof xmlContent.getElementsByTagName('urlMobile')!='undefined'){if(xmlContent.getElementsByTagName('urlMobile').length>0&&xmlContent.getElementsByTagName('urlMobile')[0].firstChild!=null){urlVideo=xmlContent.getElementsByTagName('urlMobile')[0].firstChild.nodeValue;}
if(urlVideo==""){if(typeof xmlContent.getElementsByTagName('urlHtml')!='undefined'){if(xmlContent.getElementsByTagName('urlHtml').length>0&&xmlContent.getElementsByTagName('urlHtml')[0].firstChild!=null){urlVideo=xmlContent.getElementsByTagName('urlHtml')[0].firstChild.nodeValue;}}}}else{if(typeof xmlContent.getElementsByTagName('urlHtml')!='undefined'){if(xmlContent.getElementsByTagName('urlHtml').length>0&&xmlContent.getElementsByTagName('urlHtml')[0].firstChild!=null){urlVideo=xmlContent.getElementsByTagName('urlHtml')[0].firstChild.nodeValue;}
if(urlVideo==""){if(typeof xmlContent.getElementsByTagName('url')!='undefined'){if(xmlContent.getElementsByTagName('url').length>0&&xmlContent.getElementsByTagName('url')[0].firstChild!=null){urlVideo=xmlContent.getElementsByTagName('url')[0].firstChild.nodeValue;}}}}}}else{if(typeof xmlContent.getElementsByTagName('urlHtml')!='undefined'){if(xmlContent.getElementsByTagName('urlHtml').length>0&&xmlContent.getElementsByTagName('urlHtml')[0].firstChild!=null){urlVideo=xmlContent.getElementsByTagName('urlHtml')[0].firstChild.nodeValue;}
if(urlVideo==""){if(typeof xmlContent.getElementsByTagName('url')!='undefined'){if(xmlContent.getElementsByTagName('url').length>0&&xmlContent.getElementsByTagName('url')[0].firstChild!=null){urlVideo=xmlContent.getElementsByTagName('url')[0].firstChild.nodeValue;}}}}}
if(typeof xmlContent.getElementsByTagName('download_url')!='undefined'){if(xmlContent.getElementsByTagName('download_url').length>0&&xmlContent.getElementsByTagName('download_url')[0].firstChild!=null){urlDownload=xmlContent.getElementsByTagName('download_url')[0].firstChild.nodeValue;}}
var bannerTop="";try{if(typeof xmlContent.getElementsByTagName('bannerTop')[0]!='undefined'){if(xmlContent.getElementsByTagName('bannerTop')[0].getAttribute('activated')=='yes')
bannerTop=xmlContent.getElementsByTagName('bannerTop')[0].getElementsByTagName('url')[0].firstChild.nodeValue;}}catch(error){}
var trackInfo;try{if(xmlContent.getElementsByTagName('track_info')&&typeof xmlContent.getElementsByTagName('track_info')[0]!='undefined'){trackInfo=xmlContent.getElementsByTagName('track_info')[0].firstChild.nodeValue;}}catch(error){}
var numPlay="0";var overlay;try{if(typeof xmlContent.getElementsByTagName('overlay')[0]!='undefined'){var overlayXML=xmlContent.getElementsByTagName('overlay');numPlay=overlayXML[0].getAttribute('numPlay');if(numPlay==""){numPlay="0";}
overlay=this.createOverlayObject(overlayXML[0].getElementsByTagName('url')[0].firstChild.nodeValue,'','',parseInt(numPlay),overlayXML[0].getElementsByTagName('url')[0].getAttribute('adserverId'));}}catch(error){}
var totalValuations=0;var avgValuations=0;try{if(typeof xmlContent.getElementsByTagName('valuations')[0]!='undefined'){totalValuations=(xmlContent.getElementsByTagName('valuations')[0].getElementsByTagName('total')[0].firstChild!=null)?xmlContent.getElementsByTagName('valuations')[0].getElementsByTagName('total')[0].firstChild.nodeValue:'';avgValuations=(xmlContent.getElementsByTagName('valuations')[0].getElementsByTagName('avg')[0].firstChild)?xmlContent.getElementsByTagName('valuations')[0].getElementsByTagName('avg')[0].firstChild.nodeValue:'';}}catch(error){}
if(urlVideo!=""){this.playList.push(this.createItemPlayList(this.id,urlVideo.trim(),false,xmlContent.getAttribute('type'),bannerTop,this.getUrlCrop(),this.getTitle(),this.getDescription(),'',overlay,"video/theora",totalValuations,avgValuations,null,(xmlContent.nodeName=="audio")?true:false,trackInfo,urlDownload));this.createClip(urlVideo.trim());}}else if((xmlContent.getAttribute('type')=='preroll')||(xmlContent.getAttribute('type')=='postroll')){var url="";var url_impression="";var url_click="";var urlHtml="";var isVastServer=true;var servers=new Array();try{if(typeof xmlContent.getElementsByTagName('url')!='undefined'){if(xmlContent.getElementsByTagName('url').length>0&&xmlContent.getElementsByTagName('url')[0].firstChild!=null){url=xmlContent.getElementsByTagName('url')[0].firstChild.nodeValue;}}
if(typeof xmlContent.getElementsByTagName('url_impression')!='undefined'){if(xmlContent.getElementsByTagName('url_impression').length>0&&xmlContent.getElementsByTagName('url_impression')[0].firstChild!=null){url_impression=xmlContent.getElementsByTagName('url_impression')[0].firstChild.nodeValue;}}
if(typeof xmlContent.getElementsByTagName('url_click')!='undefined'){if(xmlContent.getElementsByTagName('url_click').length>0&&xmlContent.getElementsByTagName('url_click')[0].firstChild!=null){url_click=xmlContent.getElementsByTagName('url_click')[0].firstChild.nodeValue;}}
if(typeof xmlContent.getElementsByTagName('urlHtml')!='undefined'){if(xmlContent.getElementsByTagName('urlHtml').length>0&&xmlContent.getElementsByTagName('urlHtml')[0].firstChild!=null){urlHtml=xmlContent.getElementsByTagName('urlHtml')[0].firstChild.nodeValue;}}
if(url.lastIndexOf('.mp4')>0){isVastServer=false;}
var server=new Object();server.url=url.trim();server.url_impression=url_impression.trim();server.url_click=(!isVastServer)?url_click:'';server.urlHtml=urlHtml.trim();servers.push(server);if(typeof server.url!='undefined'&&server.url!=''){this.playList.push(this.createItemPlayList('0',(!isVastServer)?servers[0].url:'',true,xmlContent.getAttribute('type'),'','','Publicidad','',(servers.length>0)?servers[0].adserverId:'',null,"video/mp4",0,0,servers,(xmlContent.nodeName=="audio")?true:false,""));this.createClip(servers[0].url);}}catch(error){}}}}
return this.playList;}catch(error){return this.playList;}}
VideoData.prototype.createItemPlayList=function(idVideo,urlVideo,isPubli,typeContent,top,picture,title,desc,adServerId,overlay,type,totalValuations,avgValuations,servers,isAudio,trackInfo,urlD){var obj1={id:idVideo,src:urlVideo,isPubli:isPubli,typeContent:this.getIdContentType(typeContent),isAudio:isAudio,isYT:(this.getCodeTY(urlVideo)=="")?false:true,srcPubli:(isPubli&&servers&&servers.length>0)?servers[0].url:'',srcYT:this.getCodeTY(urlVideo),isVimeo:(this.getCodeVimeo(urlVideo)=="")?false:true,srcVimeo:this.getCodeVimeo(urlVideo),urlClick:"",adCallTop:top,picture:picture,title:title,description:desc,idCampaing:"",skipAd:"",adServerId:adServerId,overlay:overlay,type:type,totalValuations:totalValuations,avgValuations:avgValuations,servers:servers,indexServerSelected:0,trackInfo:trackInfo,urlDownload:urlD};return obj1;}
VideoData.prototype.createOverlayObject=function(urlVast,urlMedia,urlClick,numPlay,adServerId){var obj1={url:urlVast,urlMedia:urlMedia,urlClick:urlClick,numPlay:numPlay,duration:1000000,campaignId:'--',adServerId:adServerId};return obj1;}
VideoData.prototype.getIdContentType=function(contentName){var result="0";switch(contentName){case"content":result=this.contentType.CONTENT_TYPE_CONTENT;break;case"preroll":result=this.contentType.CONTENT_TYPE_PREROLL;break;case"postroll":case"posroll":result=this.contentType.CONTENT_TYPE_POSROLL;break;}
return result;}
VideoData.prototype.getItemsByContent=function(idContent){var result=new Array();for(var i=0;i<this.playList.length;i++){if(this.playList[i].typeContent==this.contentType.CONTENT_TYPE_CONTENT){result.push(this.playList[i]);}}
return result;}
VideoData.prototype.getContentItems=function(){var result=new Array();for(var i=0;i<this.playList.length;i++){if(!this.playList[i].isPubli){result.push(this.playList[i]);}}
return result;}
VideoData.prototype.getTotalVideoContent=function(){try{return this.getItemsByContent().length;}catch(error){return 0;}}
VideoData.prototype.getIndexContent=function(){try{var result=0;for(var i=0;i<this.playList.length;i++){if(!this.playList[i].isPubli){result++;if(i==this.indexSelected){return result;}}}}catch(error){return 0;}}
VideoData.prototype.getIndexCurrentVideoContent=function(){var i=0;var j=0;try{if(this.playList[this.indexSelected].typeContent==this.contentType.CONTENT_TYPE_CONTENT){return this.indexSelected;}else if(this.playList[this.indexSelected].typeContent==this.contentType.CONTENT_TYPE_PREROLL){for(i=this.indexSelected+1;i<this.playList.length;i++){if(this.playList[i].typeContent==this.contentType.CONTENT_TYPE_CONTENT){return i;break;}}}else if(this.playList[this.indexSelected].typeContent==this.contentType.CONTENT_TYPE_PREROLL){for(j=this.indexSelected;j>0;j--){if(this.playList[j].typeContent==this.contentType.CONTENT_TYPE_CONTENT){return j;break;}}}else{return 0}}catch(error){return 0;}}
VideoData.prototype.getCodeTY=function(url){var youtube_id="";if(url.match('http://(www.)?youtube|youtu\.be')){if(url.match('embed')){youtube_id=url.split(/embed\//)[1].split('"')[0];}
else{youtube_id=url.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0];}}
if(youtube_id.lastIndexOf('?')>-1){youtube_id=youtube_id.split('?')[0];}
return youtube_id;}
VideoData.prototype.getCodeVimeo=function(url){var result="";if(url.match('http://(www.)?vimeo.com')){var index=url.lastIndexOf('/')+1;result=url.substring(index);}
return result;}
VideoData.prototype.isNextItem=function(){if(this.indexSelected>=this.playList.length-1){return false;}else{return true;}}
VideoData.prototype.isPreviousItem=function(){if(this.indexSelected==0){return false;}else{return true;}}
VideoData.prototype.setNextItem=function(){var result=false;if(this.isNextItem()){this.indexSelected++;result=true;}else{this.indexSelected=0;}
return result;}
VideoData.prototype.setPreviousItem=function(){var result=false;if(this.isPreviousItem()){this.indexSelected--;result=true;}
return result;}
VideoData.prototype.getItemSelected=function(){return this.playList[this.indexSelected];}
VideoData.prototype.getPubliByIndex=function(ind){var indAux=ind;if(this.playList[ind].typeContent==this.contentType.CONTENT_TYPE_CONTENT){for(var i=ind-1;i>=0;i--){if(this.playList[i].typeContent==this.contentType.CONTENT_TYPE_PREROLL){indAux=i;}else{break;}}}
return indAux;},VideoData.prototype.getIdContent=function(){var result="0";if(this.playList[this.indexSelected].typeContent==this.contentType.CONTENT_TYPE_CONTENT){result=this.playList[this.indexSelected].id;}else if(this.playList[this.indexSelected].typeContent==this.contentType.CONTENT_TYPE_PREROLL){for(var i=this.indexSelected+1;i<this.playList.length;i++){if(this.playList[i].typeContent==this.contentType.CONTENT_TYPE_CONTENT){result=this.playList[i].id;break;}}}else if(this.playList[this.indexSelected].typeContent==this.contentType.CONTENT_TYPE_POSROLL){for(var j=this.indexSelected;j>0;j--){if(this.playList[j].typeContent==this.contentType.CONTENT_TYPE_CONTENT){result=this.playList[j].id;break;}}}
return result;}
VideoData.prototype.isPlayerAudio=function(){var aux=this.xmlDoc.getElementsByTagName('contents')[0].getAttribute('type');if(aux!="audio"&&aux!="video"){}
return(aux=="video")?false:true;}
VideoData.prototype.isItemAudioSelected=function(){return this.playList[this.indexSelected].isAudio;}
VideoData.prototype.getServices=function(){var item;var attr="";var val="";try{item=Object.create(Object.prototype);if(typeof this.xmlDoc.getElementsByTagName('services')[0]!='undefined'){for(var i=0;i<this.xmlDoc.getElementsByTagName('services')[0].children.length;i++){attr=this.xmlDoc.getElementsByTagName('services')[0].children[i].nodeName;val=(this.xmlDoc.getElementsByTagName('services')[0].children[i].textContent)?this.xmlDoc.getElementsByTagName('services')[0].children[i].textContent:this.xmlDoc.getElementsByTagName('services')[0].children[i].text;Object.defineProperty(item,attr,{value:val,writable:true,configurable:true,enumerable:true});}}else{}
return item;}catch(error){item=new Object();if(typeof this.xmlDoc.getElementsByTagName('services')[0]!='undefined'){for(var i=0;i<this.xmlDoc.getElementsByTagName('services')[0].childNodes.length;i++){if(this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].nodeName=='urlRating'){item.urlRating=(this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].text)?this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].text:this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].textContent;}else if(this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].nodeName=='urlSendToFriend'){item.urlSendToFriend=(this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].text)?this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].text:this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].textContent;}else if(this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].nodeName=='urlGetAlreadyVote'){item.urlGetAlreadyVote=(this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].text)?this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].text:this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].textContent;}else if(this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].nodeName=='urlSendVisit'){item.urlSendVisit=(this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].text)?this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].text:this.xmlDoc.getElementsByTagName('services')[0].childNodes[i].textContent;}}
return item;}else{}
return"";}}
VideoData.prototype.getIdenty=function(){return this.identify;}
VideoData.prototype.createClip=function(urlVideo){var clip=new Object();clip.ns_st_cu=urlVideo;clip.c5='02';if((typeof this.xmlDoc.getElementsByTagName('stats')[0]!='undefined')&&(this.xmlDoc.getElementsByTagName('stats')[0].childNodes.length>1)){for(var i=0;i<this.xmlDoc.getElementsByTagName('stats')[0].childNodes.length;i++){if(this.xmlDoc.getElementsByTagName('stats')[0].childNodes[i].nodeType==1){if(this.xmlDoc.getElementsByTagName('stats')[0].childNodes[i].localName=='c3'){clip.c3=this.xmlDoc.getElementsByTagName('stats')[0].childNodes[i].textContent.trim();}else if(this.xmlDoc.getElementsByTagName('stats')[0].childNodes[i].localName=='c4'){clip.c4=this.xmlDoc.getElementsByTagName('stats')[0].childNodes[i].textContent.trim();}}}}
this.clips.push(clip);}
VideoData.prototype.getClipSelected=function(){return this.clips[this.indexSelected];};function VideoDataJSON(){this.id=0;this.xmlDoc;this.channelName='';this.title='';this.description='';this.urlCrop='';this.xmlServices='';this.vast=null;this.playList=new Array();this.indexSelected=0;this.isFlashEnabled=false;this.skipAdRemain=4;this.isAudio=false;}
VideoDataJSON.prototype.getSkipAdRemain=function(){return this.skipAdRemain;}
VideoDataJSON.prototype.load=function(urlService,id,callback){try
{var httpRequest;if(window.XMLHttpRequest)
{httpRequest=new XMLHttpRequest();}
else if(window.ActiveXObject)
{try{httpRequest=new ActiveXObject("MSXML2.XMLHTTP");}catch(e){try{httpRequest=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){}}}
if(!httpRequest)
{}}
catch(e)
{try{var httpRequest=new window.XMLHttpRequest();}
catch(e)
{callback(id,'error');this.xmlDoc=undefined;}}
httpRequest.open("GET",urlService,false);httpRequest.setRequestHeader("Content-type","application/json");httpRequest.setRequestHeader("Accept","application/json; charset=utf-8");httpRequest.setRequestHeader("Accept-Datetime","Fri, 14 Jan 2014 00:00:00 GMT");httpRequest.setRequestHeader("Authorization","XXXXXXX");httpRequest.send();var patt1=new RegExp('\r\n','g');var patt2=new RegExp('\t','g');var mi=httpRequest.responseText;mi=mi.replace(patt1,'');mi=mi.replace(patt2,'');var myJSONText=JSON.stringify(mi);var aux=eval('('+myJSONText+')');this.xmlDoc=JSON.parse(aux);this.xmlDoc=this.xmlDoc.xml;if(this.xmlDoc){this.createPlayList();callback(id,'success');}else{callback(id,'error');}}
VideoDataJSON.prototype.getId=function(){try{return this.xmlDoc.id;}catch(error){return"";}}
VideoDataJSON.prototype.getChannelName=function(){try{return this.xmlDoc.channel;}catch(error){return"";}}
VideoDataJSON.prototype.getTitle=function(){try{return this.xmlDoc.title;}catch(error){return"";}}
VideoDataJSON.prototype.getDescription=function(){try{return this.xmlDoc.description;}catch(error){return"";}}
VideoDataJSON.prototype.getUrlCrop=function(){try{return this.xmlDoc.picture;}catch(error){return"";}}
VideoDataJSON.prototype.getServices=function(){try{return services;}catch(error){return"";}}
VideoDataJSON.prototype.getPlayList=function(){return this.playList;}
VideoDataJSON.prototype.createPlayList=function(){this.playList=new Array();try{var contentsXML=this.xmlDoc.contents.video;var xmlContent;if(contentsXML.length>0)
{eventos=new Array();}
for(var i=0;i<contentsXML.length;i++)
{xmlContent=contentsXML[i];if(xmlContent._type=='content'){urlVideo="";if(this.isFlashEnabled){urlVideo=xmlContent.url;}else{urlVideo=xmlContent.urlHtml;}
var bannerTop="";if(xmlContent.bannerTop&&xmlContent.bannerTop.activated&&xmlContent.bannerTop.activated=='yes')
bannerTop=xmlContent.bannerTop.url;var numPlay="0";var overlay;var totalValuations=(xmlContent.valuations.total)?xmlContent.valuations.total:'';var avgValuations=(xmlContent.valuations.avg)?xmlContent.valuations.avg:'';if(urlVideo!=""){this.playList.push(this.createItemPlayList((xmlContent.id)?xmlContent.id:'',urlVideo.trim(),false,xmlContent._type,bannerTop,(xmlContent.picture)?xmlContent.picture.trim():'',(xmlContent.title)?xmlContent.title.trim():'',(xmlContent.description)?xmlContent.description.trim():'','',overlay,"video/theora",totalValuations,avgValuations,null,xmlContent._isaudio));}}else if((xmlContent._type=='preroll')||(xmlContent.type=='postroll')){var servers=new Array();var serversXML=xmlContent.urls;var serverXML;for(var j=0;j<serversXML.length;j++)
{serverXML=serversXML[j];var server=new Object();server.url=serverXML.url;server.adserverId=serverXML._adserverId;servers.push(server);}
this.playList.push(this.createItemPlayList('0',(servers.length>0)?servers[0].url:'',true,xmlContent._type,'','','Publicidad','',(servers.length>0&&servers[0].adserverId)?servers[0].adserverId:'',null,"video/mp4",0,0,servers,xmlContent._isaudio));}}
return this.playList;}catch(error){return this.playList;}}
VideoDataJSON.prototype.getServices=function(){try{return this.xmlDoc.services;}catch(error){return"";}}
VideoDataJSON.prototype.createItemPlayList=function(idVideo,urlVideo,isPubli,typeContent,top,picture,title,desc,adServerId,overlay,type,totalValuations,avgValuations,servers,isAudio){var obj1={id:idVideo,src:(!isPubli)?urlVideo:'',isPubli:isPubli,typeContent:this.getIdContentType(typeContent),isAudio:(isAudio=="true")?true:false,isYT:(this.getCodeTY(urlVideo)=="")?false:true,srcPubli:(isPubli)?urlVideo:'',srcYT:this.getCodeTY(urlVideo),isVimeo:(this.getCodeVimeo(urlVideo)=="")?false:true,srcVimeo:this.getCodeVimeo(urlVideo),urlClick:"",adCallTop:top,picture:picture,title:title,description:desc,idCampaing:"",skipAd:"",adServerId:adServerId,overlay:overlay,type:type,totalValuations:totalValuations,avgValuations:avgValuations,servers:servers,indexServerSelected:0};return obj1;}
VideoDataJSON.prototype.createOverlayObject=function(urlVast,urlMedia,urlClick,numPlay,adServerId){var obj1={url:urlVast,urlMedia:urlMedia,urlClick:urlClick,numPlay:numPlay,duration:1000000,campaignId:'--',adServerId:adServerId};return obj1;}
VideoDataJSON.prototype.getIdContentType=function(contentName){var result="0";switch(contentName){case"content":result=contentType.CONTENT_TYPE_CONTENT;break;case"preroll":result=contentType.CONTENT_TYPE_PREROLL;break;case"postroll":case"posroll":result=contentType.CONTENT_TYPE_POSROLL;break;}
return result;}
VideoDataJSON.prototype.getItemsByContent=function(idContent){var result=new Array();for(var i=0;i<this.playList.length;i++){if(this.playList[i].typeContent==contentType.CONTENT_TYPE_CONTENT){result.push(this.playList[i]);}}
return result;}
VideoDataJSON.prototype.getContentItems=function(){var result=new Array();for(var i=0;i<this.playList.length;i++){if(!this.playList[i].isPubli){result.push(this.playList[i]);}}
return result;}
VideoDataJSON.prototype.getTotalVideoContent=function(){try{return this.getItemsByContent().length;}catch(error){return 0;}}
VideoDataJSON.prototype.getIndexContent=function(){try{var result=0;for(var i=0;i<this.playList.length;i++){if(!this.playList[i].isPubli){result++;if(i==this.indexSelected){return result;}}}}catch(error){return 0;}}
VideoDataJSON.prototype.getIndexCurrentVideoContent=function(){var i=0;var j=0;var result=0;try{if(this.playList[this.indexSelected].typeContent==contentType.CONTENT_TYPE_CONTENT){result=this.indexSelected;}else if(this.playList[this.indexSelected].typeContent==contentType.CONTENT_TYPE_PREROLL){for(i=this.indexSelected+1;i<this.playList.length;i++){if(this.playList[i].typeContent==contentType.CONTENT_TYPE_CONTENT){result=i;break;}}}else if(this.playList[this.indexSelected].typeContent==contentType.CONTENT_TYPE_POSROLL){for(j=this.indexSelected;j>0;j--){if(this.playList[j].typeContent==contentType.CONTENT_TYPE_CONTENT){result=j;break;}}}else{result=0;}
return result;}catch(error){return result;}}
VideoDataJSON.prototype.getCodeTY=function(url){var youtube_id="";if(url.match('http://(www.)?youtube|youtu\.be')){if(url.match('embed')){youtube_id=url.split(/embed\//)[1].split('"')[0];}
else{youtube_id=url.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0];}}
if(youtube_id.lastIndexOf('?')>-1){youtube_id=youtube_id.split('?')[0];}
return youtube_id;}
VideoDataJSON.prototype.getCodeVimeo=function(url){var result="";if(url.match('http://(www.)?vimeo.com')){var index=url.lastIndexOf('/')+1;result=url.substring(index);}
return result;}
VideoDataJSON.prototype.isNextItem=function(){if(this.indexSelected>=this.playList.length-1){return false;}else{return true;}}
VideoDataJSON.prototype.isPreviousItem=function(){if(this.indexSelected==0){return false;}else{return true;}}
VideoDataJSON.prototype.setNextItem=function(){var result=false;if(this.isNextItem()){this.indexSelected++;result=true;}else{this.indexSelected=0;}
return result;}
VideoDataJSON.prototype.setPreviousItem=function(){var result=false;if(this.isPreviousItem()){this.indexSelected--;result=true;}
return result;}
VideoDataJSON.prototype.getItemSelected=function(){return this.playList[this.indexSelected];},VideoDataJSON.prototype.getPubliByIndex=function(ind){var indAux=ind;if(this.playList[ind].typeContent==contentType.CONTENT_TYPE_CONTENT){for(var i=ind-1;i>=0;i--){if(this.playList[i].typeContent==contentType.CONTENT_TYPE_PREROLL){indAux=i;}else{break;}}}
return indAux;},VideoDataJSON.prototype.getIdContent=function(){var result="0";if(this.playList[this.indexSelected].typeContent==contentType.CONTENT_TYPE_CONTENT){result=this.playList[this.indexSelected].id;}else if(this.playList[this.indexSelected].typeContent==contentType.CONTENT_TYPE_PREROLL){for(var i=this.indexSelected+1;i<this.playList.length;i++){if(this.playList[i].typeContent==contentType.CONTENT_TYPE_CONTENT){result=this.playList[i].id;break;}}}else if(this.playList[this.indexSelected].typeContent==contentType.CONTENT_TYPE_POSROLL){for(var j=this.indexSelected;j>0;j--){if(this.playList[j].typeContent==contentType.CONTENT_TYPE_CONTENT){result=this.playList[j].id;break;}}}
return result;}
VideoDataJSON.prototype.isPlayerAudio=function(){var aux=this.xmlDoc.contents._type;if(aux!="audio"&&aux!="video"){console.log("formato de contenido no reconocido");}
return(aux=="video")?false:true;}
VideoDataJSON.prototype.isItemAudioSelected=function(){return this.playList[this.indexSelected].isAudio;};function VastData(){this.url;this.xmlDoc;this.companionId;this.trackingEvents=new Array();this.mediaFiles;this.companionAds;this.clickThrough;this.EVENTS={START:'start',FIRSTQUARTILE:'firstQuartile',MIDPOINT:'midpoint',THIRDQUARTILE:'thirdQuartile',COMPLETE:'complete'};this.iswrapper=false;this.wrapperImpressions=new Array();this.wrapperTrackingEvents=new Array();this.videoId;}
VastData.prototype.load=function(videoId,_url,callback){this.videoId=videoId;var _this=this
_url=this.setTimestamp(_url);try
{var xhr=this.createCORSRequest('GET',_url);var _this=this;xhr.onerror=function(){callback(_this.videoId,"vastError",_this);return;};xhr.onload=function(){if(typeof this.responseXML!='undefined'&&this.responseXML!=null){_this.xmlDoc=this.responseXML.getElementsByTagName('Ad')[0].getElementsByTagName('InLine')[0];if(typeof _this.xmlDoc=='undefined'){_this.xmlDoc=this.responseXML.documentElement.getElementsByTagName('Ad')[0].getElementsByTagName('Wrapper')[0];if(typeof _this.xmlDoc=='undefined'){callback(this.videoId,"vastError");}else{_this.iswrapper=true;_this.wrapperImpressions=_this.getImpressions();_this.getWrapperTrackingEvents();var urlwrapper="";if(typeof this.responseXML.documentElement.getElementsByTagName('Ad')[0].getElementsByTagName('VASTAdTagURI')[0].childNodes[1]!='undefined'){urlwrapper=this.responseXML.documentElement.getElementsByTagName('Ad')[0].getElementsByTagName('VASTAdTagURI')[0].childNodes[1].nodeValue;}else{urlwrapper=this.responseXML.documentElement.getElementsByTagName('Ad')[0].getElementsByTagName('VASTAdTagURI')[0].firstChild.nodeValue;}
setTimeout(function(){_this.load(_this.videoId,urlwrapper,callback)},200);}}else{_this.getTrackingEvents();_this.getCompanions();callback(_this.videoId,"vastLoaded",_this);}}else{this.xmlDoc=undefined;callback(this.videoId,"vastError",this);}};xhr.send();}catch(eror){this.xmlDoc=undefined;callback(this.videoId,"vastError",this);}};VastData.prototype.createCORSRequest=function(method,url){var xhr=new XMLHttpRequest();if("withCredentials"in xhr){xhr.open(method,url,true);xhr.withCredentials=true;}else if(typeof XDomainRequest!="undefined"){xhr=new XDomainRequest();xhr.open(method,url);}else{xhr=null;}
return xhr;}
VastData.prototype.getCompaingId=function(){var result="";try{if(this.getImpressions()&&this.getImpressions().length>0){result=this.getImpressions()[0];var idCamp=result.split("/SmartyContent/")[1];idCamp=idCamp.substr(0,idCamp.indexOf("/"));result=idCamp;}}catch(error){}
return result;};VastData.prototype.getSkipAd=function(){var result="8";try{if(typeof this.xmlDoc.getElementsByTagName('skipad')[i].childNodes[1]!='undefined'){result=this.xmlDoc.getElementsByTagName('skipad')[0].childNodes[1].nodeValue;}else{result=this.xmlDoc.getElementsByTagName('skipad')[0].firstChild.nodeValue;}
result=(result=="")?"0":result;}catch(error){}
return result;};VastData.prototype.getImpressions=function(){var result=new Array();try{for(var i=0;i<this.xmlDoc.getElementsByTagName('Impression').length;i++){if(typeof this.xmlDoc.getElementsByTagName('Impression')[i].childNodes[1]!='undefined'){result.push(this.xmlDoc.getElementsByTagName('Impression')[i].childNodes[1].nodeValue);}else{result.push(this.xmlDoc.getElementsByTagName('Impression')[i].firstChild.nodeValue);}}}catch(error){}
if(this.iswrapper){result=result.concat(this.wrapperImpressions);}
return result;};VastData.prototype.getTrackingEvents=function(){var xml_aux;var events=new Array();try{xml_aux=this.xmlDoc.getElementsByTagName('Creatives')[0].getElementsByTagName('Creative')[0].getElementsByTagName('TrackingEvents')[0].getElementsByTagName('Tracking');lengthTrackins=xml_aux.length;for(var i=0;i<xml_aux.length;i++){if(this.isEvent(xml_aux[i].getAttribute('event'))){if(typeof this.trackingEvents[xml_aux[i].getAttribute('event')]!=""){this.trackingEvents[xml_aux[i].getAttribute('event')]=new Array();}
if(typeof xml_aux[i].childNodes[1]!='undefined'){this.trackingEvents[xml_aux[i].getAttribute('event')].push(xml_aux[i].childNodes[1].nodeValue);}else{this.trackingEvents[xml_aux[i].getAttribute('event')].push(xml_aux[i].firstChild.nodeValue);}}}}catch(error){}};VastData.prototype.getWrapperTrackingEvents=function(){var xml_aux;var events=new Array();try{xml_aux=this.xmlDoc.getElementsByTagName('Creatives')[0].getElementsByTagName('Creative')[0].getElementsByTagName('TrackingEvents')[0].getElementsByTagName('Tracking');lengthTrackins=xml_aux.length;for(var i=0;i<xml_aux.length;i++){if(this.isEvent(xml_aux[i].getAttribute('event'))){if(typeof this.trackingEvents[xml_aux[i].getAttribute('event')]!=""){this.wrapperTrackingEvents[xml_aux[i].getAttribute('event')]=new Array();}
if(typeof xml_aux[i].childNodes[1]!='undefined'){this.wrapperTrackingEvents[xml_aux[i].getAttribute('event')].push(xml_aux[i].childNodes[1].nodeValue);}else{this.wrapperTrackingEvents[xml_aux[i].getAttribute('event')].push(xml_aux[i].firstChild.nodeValue);}}}}catch(error){}};VastData.prototype.isEvent=function(prp){if(this.EVENTS.hasOwnProperty(prp.toUpperCase())){return true;}else{return false;}};VastData.prototype.getClickThrough=function(){var click="";try{var xml_aux=this.xmlDoc.getElementsByTagName('Creatives')[0].getElementsByTagName('Creative')[0];if(typeof xml_aux.getElementsByTagName('VideoClicks')[0].getElementsByTagName('ClickThrough')[0].childNodes[1]!=''){click=xml_aux.getElementsByTagName('VideoClicks')[0].getElementsByTagName('ClickThrough')[0].textContent;}else{click=xml_aux.getElementsByTagName('VideoClicks')[0].getElementsByTagName('ClickThrough')[0].firstChild.nodeValue;}}catch(error){}
return click.trim();};VastData.prototype.getMedia=function(){var media="";try{var xml_aux=this.xmlDoc.getElementsByTagName('Creatives')[0].getElementsByTagName('Creative')[0];var medias=xml_aux.getElementsByTagName('MediaFiles')[0].getElementsByTagName('MediaFile');for(var i=0;medias.length;i++){if(medias[i].getAttribute('type')=='video/mp4'){if(typeof medias[i].childNodes[1]!='undefined'){media=medias[i].childNodes[1].nodeValue;}else{media=medias[i].firstChild.nodeValue;}
break;}}}catch(error){var companions=this.getCompanions();for(var i=0;i<companions.length;i++){if((companions[i].position=='/x38/')||(companions[i].position=='/x32/')){media=validateUrlVideo(companions[i].code);break;}}}
return media.trim();};VastData.prototype.getCompanions=function(){var companions=new Array();var media="";var companion;try{companion=this.xmlDoc.getElementsByTagName('Creative')[1].getElementsByTagName("Companion");var aux=new CompanionAd(companion);if(aux.code!=''){drawCompanionAd(aux.code,aux.click,aux.type);companions.push(aux);}}catch(error){console.log("error getCompanions "+error.toString());}
return companions;};VastData.prototype.getNonLinearMedia=function(){var result="";var xml_aux=this.xmlDoc.getElementsByTagName('Creatives')[0].getElementsByTagName('Creative')[0].getElementsByTagName('NonLinear')[0].getElementsByTagName('StaticResource')[0];try{if(typeof xml_aux.childNodes[1]!=""){result=xml_aux.childNodes[1].nodeValue;}else{result=xml_aux.firstChild.nodeValue;}}catch(error){}
return result;};VastData.prototype.getNonLinearClickThrough=function(){var result="";var xml_aux=this.xmlDoc.getElementsByTagName('Creatives')[0].getElementsByTagName('Creative')[0].getElementsByTagName('NonLinear')[0].getElementsByTagName('NonLinearClickThrough')[0];try{if(typeof xml_aux.childNodes[1]!=""){result=xml_aux.childNodes[1].nodeValue;}else{result=xml_aux.firstChild.nodeValue;}}catch(error){}
return result;};VastData.prototype.setTimestamp=function(url){return url.replace('[random]',new Date().getTime());};VastData.prototype.throwTrackingsByType=function(type){try{for(i=0;i<this.trackingEvents[type].length;i++){this.fireTrackers(this.trackingEvents[type][i]);}}catch(error){}}
VastData.prototype.throwCompleteImpressions=function(){try{for(i=0;i<this.trackingEvents[this.EVENTS.COMPLETE].length;i++){this.fireTrackers(this.trackingEvents[this.EVENTS.COMPLETE][i]);}}catch(error){}}
VastData.prototype.throwStartImpressions=function(){var i;try{for(i=0;i<this.getImpressions().length;i++){this.fireTrackers(this.getImpressions()[i]);}
for(i=0;i<this.trackingEvents[this.EVENTS.START].length;i++){this.fireTrackers(this.trackingEvents[this.EVENTS.START][i]);}}catch(error){}}
VastData.prototype.fireTrackers=function(trackerURL){$('body').prepend('<img src="'+trackerURL+'" style="display:none" />');};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');};function validateUrlVideo(value){var result="";try{value=value.substr(value.lastIndexOf("src="));result=value.split('"')[1];}catch(error){result="";}
return result;};function CompanionAd(companionxml){this.companion=companionxml;this.type="";this.code="";this.click="";this.STATIC="STATIC";this.HTML="HTML";this.IFRAME="IFRAME";this.getData();}
CompanionAd.prototype.getData=function(){if(this.companion&&this.companion.length>0){if(this.companion[0].firstElementChild){this.code=this.companion[0].firstElementChild.textContent;if(this.companion[0].firstElementChild.nodeName=='StaticResource'){this.type=this.STATIC;}else if(this.companion[0].firstElementChild.nodeName=='HTMLResource'){this.type=this.HTML;}else if(this.companion[0].firstElementChild.nodeName=='IFrameResource'){this.type=this.IFRAME;}}
if(this.companion[0].lastElementChild&&this.companion[0].lastElementChild.nodeName=='CompanionClickThrough'){this.click=this.companion[0].lastElementChild.textContent;}}};function NativePlayer(controllerId){this.type="native";this.url;this.state;this.myPlayer;this.duration;this.paused=false;this.currentTime;this.id;this.isFirstStart=false;this.controllerId=controllerId;this.idComponent;this.theEvent;this.currentSrc;this.baseURI=window.location.href;this.volume;this.muted;this.ended=false;this.isActivateListeners=false;}
NativePlayer.prototype.createPlayer=function(idComponent,videoData,timeToCloseConnection){this.isFirstStart=false;this.idComponent=idComponent;this.theEvent=this.CustomEvent("OnSomethingHappened");this.id=videoData.id;this.url=videoData.src;this.currentSrc=videoData.src;if(jQuery(idComponent).find('.gp-display-video').find('#my_video').length==0){if(videoData.isAudio){jQuery(idComponent).find('.gp-display-video').append('<audio id="my_video" class="my_audio" src="'+videoData.src+'" preload="metadata"></audio>');}else{jQuery(idComponent).find('.gp-display-video').append('<video id="my_video" class="my_video" src="'+videoData.src+'" preload="metadata" style="display:none;"></video>');}
if(detectmob()){jQuery(this.idComponent).find("#my_video").show();}
jQuery(this.idComponent).find('.gp-display-video').show();this.myPlayer=document.getElementById("my_video");}else{jQuery(this.idComponent).find('.gp-display-video').show();this.myPlayer=document.getElementById("my_video");this.myPlayer.src=videoData.src;if(!detectmob()){this.myPlayer.play();}else{if(navigator.userAgent.match(/Android/i)){if(videoData.isPubli==false){this.myPlayer.play();}}}}
if(videoData.isAudio){jQuery(this.idComponent).find("#my_video").css('opacity',0);}else{jQuery(this.idComponent).find("#my_video").css('opacity',1);}
if(this.isActivateListeners==false){this.activateListeners();}}
NativePlayer.prototype.activateListeners=function(){var _this=this;if(this.myPlayer!=null){this.isActivateListeners=true;this.myPlayer.addEventListener("play",function videoStart(){_this.showControls(false);if(!_this.isFirstStart){jQuery(_this).trigger({type:"play",message:"play",time:new Date()});_this.dispatchEvent(["buffering",this.currentTime,this.duration]);_this.isFirstStart=true;}else{_this.dispatchEvent(["playing",this.currentTime,this.duration]);}},false);this.myPlayer.addEventListener("timeupdate",function onTimeUpdate(){if(this.duration&&this.duration>0&&this.currentTime>=(this.duration-0.1)&&_this.isFirstStart){this.ended=true;jQuery(_this).trigger({type:"ended",message:"ended",time:new Date()});_this.dispatchEvent(["end",this.currentTime,this.duration]);_this.isFirstStart=false;}else{_this.dispatchEvent(["time",this.currentTime,this.duration]);}},false);this.myPlayer.addEventListener('error',function videoFailed(err){this.removeEventListener('error',videoFailed);switch(err.target.error.code){case err.target.error.MEDIA_ERR_ABORTED:break;case err.target.error.MEDIA_ERR_NETWORK:_this.dispatchEvent(["error",0,0]);break;case err.target.error.MEDIA_ERR_DECODE:_this.dispatchEvent(["error",0,0]);break;case err.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:_this.dispatchEvent(["error",0,0]);break;default:_this.dispatchEvent(["error",0,0]);break;}},false);this.myPlayer.addEventListener('waiting',function videoWaiting(err){jQuery(_this).trigger({type:"waiting",message:"waiting",time:new Date()});},false);this.myPlayer.addEventListener('playing',function videoWaiting(err){jQuery(_this).trigger({type:"playing",message:"playing",time:new Date()});_this.dispatchEvent(["playing",this.currentTime,this.duration]);},false);this.myPlayer.addEventListener('suspend',function videoSuspend(err){_this.playSuspend();this.removeEventListener('suspend',videoSuspend);_this.dispatchEvent(["suspend",0,0]);},false);this.myPlayer.addEventListener('abort',function videoSuspend(err){this.removeEventListener('abort',videoSuspend);},false);this.myPlayer.addEventListener('loadeddata',function videoLoaded(){this.removeEventListener('loadeddata',videoLoaded);jQuery(_this.idComponent).find('video[class*=my_video]').show();_this.dispatchEvent(["start",this.currentTime,this.duration]);},false);this.myPlayer.addEventListener('loadeddata',function videoLoaded(event){this.removeEventListener('loadedmetadata',videoLoaded);_this.dispatchEvent(["loadeddata",this.currentTime,this.duration]);},false);this.myPlayer.addEventListener('canplaythrough',function videoLoaded(){this.removeEventListener('canplaythrough',videoLoaded);_this.dispatchEvent(["start",this.currentTime,this.duration]);},false);this.myPlayer.addEventListener(clickEvent,function onSpotClickThrough(){if(!_this.myPlayer.paused){_this.dispatchEvent(["click",0,0]);}
this.addEventListener(clickEvent,function onClickTogglePause(){this.removeEventListener(clickEvent,onClickTogglePause);},false);},false);this.myPlayer.addEventListener("pause",function onPause(){jQuery(_this).trigger({type:"pause",message:"pause",time:new Date()});if(this.currentTime<this.duration){_this.dispatchEvent(["paused",this.currentTime,this.duration]);}},false);}}
NativePlayer.prototype.play=function(){if(this.myPlayer&&this.myPlayer.paused){this.myPlayer.play();this.paused=this.myPlayer.paused;}}
NativePlayer.prototype.playSuspend=function(){this.myPlayer.play();this.paused=this.myPlayer.paused;}
NativePlayer.prototype.pause=function(){if(this.myPlayer&&!this.myPlayer.paused){this.myPlayer.pause();this.paused=this.myPlayer.paused;}}
NativePlayer.prototype.seekTo=function(percent){if(this.myPlayer){this.myPlayer.currentTime=(percent*this.getDuration())/100;}}
NativePlayer.prototype.setVolume=function(percent){if(this.myPlayer){if(percent<0)percent=0;else if(percent>100)percent=100;this.myPlayer.volume=percent/100;this.volume=this.getVolume();if(this.volume==0){this.muted=true;}else{this.muted=false;}
jQuery(this).trigger({type:"volumechange",message:"volumechange",time:new Date()});}}
NativePlayer.prototype.getVolume=function(){if(this.myPlayer){return this.myPlayer.volume*100;}}
NativePlayer.prototype.getDuration=function(){return this.myPlayer.duration;}
NativePlayer.prototype.getCurrentTime=function(){return this.myPlayer.currentTime;}
NativePlayer.prototype.isMetadataLoaded=function(){return(this.getDuration()&&this.getDuration()>0)?true:false;}
NativePlayer.prototype.showControls=function(value){if(typeof this.myPlayer!='undefined')
this.myPlayer.controls=value;}
NativePlayer.prototype.isMuted=function(value){if(typeof this.myPlayer!='undefined')
this.myPlayer.muted=value;}
NativePlayer.prototype.removePlayer=function(){this.myPlayer=undefined;jQuery(this.idComponent).find('#my_video').remove();}
NativePlayer.prototype.getAvailableQualityLevels=function(){var aux=new Array()
return aux;}
NativePlayer.prototype.getPlaybackQuality=function(){return"";}
NativePlayer.prototype.setPlaybackQuality=function(value){}
NativePlayer.prototype.getMetadataID3=function(){var datos="";var _this=this;try{ID3.loadTags(this.url,function(){var tags=ID3.getAllTags(_this.url);console.log("tags "+tags);for(var propertyName in tags){if(typeof tags[propertyName]=="object"){if(typeof tags[propertyName].id!='undefined'){datos+=tags[propertyName].id+":"+tags[propertyName].data+",";}}}
datos=datos.substring(0,datos.length-1);getStreamTitle(datos);},{tags:["title","artist","album","picture"]});}catch(error){console.log("No se han podido obtener los metadatos "+error);}}
NativePlayer.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.unsubscribe=function(fn){eventAction=null;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{}};return this;}
NativePlayer.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function FlashPlayer(controllerId,delayChangeStream){this.type="flash";this.url;this.state;this.myPlayer;this.duration;this.paused=false;this.currentTime;this.id;this.isFirstStart=false;this.controllerId=controllerId;this.idComponent;this.theEvent;this.playerDiv;this.currentSrc;this.baseURI=window.location.href;this.volume;this.muted;this.ended=false;this.delayChangeStream=delayChangeStream;}
FlashPlayer.prototype.createPlayer=function(idComponent,videoData,timeToCloseConnection){this.isFirstStart=false;this.idComponent=idComponent;this.theEvent=this.CustomEvent("OnFlashPlayerEvent");this.id=videoData.id;this.currentSrc=videoData.src;var playerSwf=APP_URL+"swf/video/player.swf";var currentWidth;var currentHeight;this.playerDiv='player_'+this.id+'_flash';jQuery(this.idComponent).find('.gp-display-video').html('<div id="'+this.playerDiv+'" class="'+this.playerDiv+'"></div>');currentWidth=jQuery(this.idComponent).width();currentHeight=jQuery(this.idComponent).height();var flashvars={urlVideo:videoData.src,idVideoController:this.controllerId,debugEnable:false,isAudio:videoData.isAudio,timeToCloseConnection:timeToCloseConnection,delay_change_stream:this.delayChangeStream};var params={};params.quality="high";params.allowscriptaccess="always";params.allowfullscreen="true";params.wmode="transparent";var attributes={};attributes.id=this.playerDiv;attributes.name=this.playerDiv;attributes.align="left";swfobject.embedSWF(playerSwf,this.playerDiv,(videoData.isAudio)?'1%':'100%',(videoData.isAudio)?'100%':'100%',"11.1.0","expressInstall.swf",flashvars,params,attributes);this.myPlayer=thisMovie(this.playerDiv);}
FlashPlayer.prototype.activateListeners=function(type,duration,currentTime){this.duration=duration;this.currentTime=currentTime;switch(type){case"onstart":jQuery(this).trigger({type:"play",message:"play",time:new Date()});this.dispatchEvent(["start",currentTime,duration]);break;case"ontime":this.dispatchEvent(["time",currentTime,duration]);break;case"onmetadata":jQuery(this.idComponent).find('.gp-display-video').show();this.dispatchEvent(["loadeddata",currentTime,duration]);break;case"onplaying":jQuery(this).trigger({type:"playing",message:"playing",time:new Date()});this.dispatchEvent(["playing",currentTime,duration]);break;case"onend":this.ended=true;jQuery(this).trigger({type:"ended",message:"ended",time:new Date()});this.dispatchEvent(["end",currentTime,duration]);break;case"onpaused":jQuery(this).trigger({type:"pause",message:"pause",time:new Date()});this.dispatchEvent(["paused",currentTime,duration]);break;case"onerror":this.dispatchEvent(["error",currentTime,duration]);break;case"onclick":this.dispatchEvent(["click",currentTime,duration]);break;case"onbuffering":jQuery(this).trigger({type:"waiting",message:"waiting",time:new Date()});this.dispatchEvent(["buffering",currentTime,duration]);break;}}
FlashPlayer.prototype.play=function(){if(typeof this.myPlayer=='undefined')this.myPlayer=thisMovie(this.playerDiv);if(this.myPlayer&&this.myPlayer.paused){this.myPlayer.playVideo();this.paused=false;this.dispatchEvent(["playing",this.currentTime,this.duration]);}}
FlashPlayer.prototype.playSuspend=function(){if(typeof this.myPlayer=='undefined')this.myPlayer=thisMovie(this.playerDiv);this.myPlayer.playVideo();this.paused=false;}
FlashPlayer.prototype.pause=function(){if(typeof this.myPlayer=='undefined')this.myPlayer=thisMovie(this.playerDiv);if(this.myPlayer&&!this.myPlayer.paused()){this.myPlayer.pause();this.paused=true;this.dispatchEvent(["paused",this.currentTime,this.duration]);}}
FlashPlayer.prototype.seekTo=function(percent){if(typeof this.myPlayer=='undefined')this.myPlayer=thisMovie(this.playerDiv);if(this.myPlayer){this.myPlayer.seekTo((percent*this.getDuration())/100);}}
FlashPlayer.prototype.setVolume=function(percent){if(typeof this.myPlayer=='undefined')this.myPlayer=thisMovie(this.playerDiv);if(this.myPlayer){if(percent<0)percent=0;else if(percent>100)percent=100;this.myPlayer.setVolume(percent/100);this.volume=this.getVolume();if(this.volume==0){this.muted=true;}else{this.muted=false;}
jQuery(this).trigger({type:"volumechange",message:"volumechange",time:new Date()});}}
FlashPlayer.prototype.getVolume=function(){if(typeof this.myPlayer=='undefined')this.myPlayer=thisMovie(this.playerDiv);if(this.myPlayer){return this.myPlayer.getVolume()*100;}}
FlashPlayer.prototype.getDuration=function(){return this.duration;}
FlashPlayer.prototype.getCurrentTime=function(){return this.currentTime;}
FlashPlayer.prototype.isMetadataLoaded=function(){return(this.getDuration()&&this.getDuration()>0)?true:false;}
FlashPlayer.prototype.showControls=function(value){if(typeof this.myPlayer=='undefined')this.myPlayer=thisMovie(this.playerDiv);if(typeof this.myPlayer!='undefined')
this.myPlayer.controls=value;}
FlashPlayer.prototype.isMuted=function(value){if(typeof this.myPlayer=='undefined')this.myPlayer=thisMovie(this.playerDiv);if(typeof this.myPlayer!='undefined')
this.myPlayer.muted=value;}
FlashPlayer.prototype.removePlayer=function(){this.myPlayer=undefined;swfobject.removeSWF(this.playerDiv);}
FlashPlayer.prototype.getAvailableQualityLevels=function(){var aux=new Array()
return aux;}
FlashPlayer.prototype.getPlaybackQuality=function(){return"";}
FlashPlayer.prototype.setPlaybackQuality=function(value){}
FlashPlayer.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.unsubscribe=function(fn){eventAction=null;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{}};return this;}
FlashPlayer.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function FlashAdPlayer(controllerId){this.type="flash";this.url;this.state;this.myPlayer;this.duration;this.paused;this.currentTime;this.id;this.isFirstStart=false;this.controllerId=controllerId;this.idComponent;this.theEvent;this.urlClick;}
FlashAdPlayer.prototype.createPlayer=function(idComponent,videoData){this.isFirstStart=false;this.idComponent=idComponent;this.theEvent=this.CustomEvent("OnSomethingHappened");this.id=videoData.id;var playerSwf=APP_URL+"swf/video/playerAd.swf";var currentWidth;var currentHeight;var playerDiv='player_'+this.id+'_flashad';jQuery(this.idComponent).find('.gp-display-video').show();jQuery(this.idComponent).find('.gp-display-video').html('<div id="'+playerDiv+'" class="'+playerDiv+'"></div>');currentWidth=jQuery(this.idComponent).width();currentHeight=jQuery(this.idComponent).height();videoData.srcPubli=videoData.srcPubli.replace(/&amp;/g,'%26');videoData.srcPubli=videoData.srcPubli.replace(/&/g,'%26');var flashvars={urlVideo:videoData.srcPubli,idVideoController:this.controllerId,debugEnable:false,isAudio:true};var params={};params.quality="high";params.allowscriptaccess="always";params.allowfullscreen="true";params.wmode="transparent";var attributes={};attributes.id=playerDiv;attributes.name=playerDiv;attributes.align="left";swfobject.embedSWF(playerSwf,playerDiv,'100%','100%',"11.1.0","expressInstall.swf",flashvars,params,attributes);this.myPlayer=thisMovie(playerDiv);}
FlashAdPlayer.prototype.activateListeners=function(type,duration,currentTime){this.duration=(duration)?duration:0;this.currentTime=(currentTime)?currentTime:0;switch(type){case"onstart":jQuery(this).trigger({type:"play",message:"play",time:new Date()});this.dispatchEvent(["start",currentTime,duration]);break;case"ontime":jQuery(this).trigger({type:"progress",message:"progress",time:new Date()});this.dispatchEvent(["time",currentTime,duration]);break;case"onmetadata":this.dispatchEvent(["loadeddata",currentTime,duration]);break;case"onplaying":jQuery(this).trigger({type:"playing",message:"playing",time:new Date()});this.dispatchEvent(["playing",currentTime,duration]);break;case"onend":this.removePlayer();jQuery(this).trigger({type:"ended",message:"ended",time:new Date()});this.dispatchEvent(["end",currentTime,duration]);break;case"onpaused":jQuery(this).trigger({type:"pause",message:"pause",time:new Date()});this.dispatchEvent(["paused",currentTime,duration]);break;case"onerror":this.dispatchEvent(["error",currentTime,duration]);break;case"onclick":this.dispatchEvent(["click",currentTime,duration]);break;}}
FlashAdPlayer.prototype.getUrlClick=function(){var urlC="";if(this.myPlayer&&this.myPlayer.getUrlClick()){urlC=this.myPlayer.getUrlClick();}
return urlC;}
FlashAdPlayer.prototype.play=function(){if(this.myPlayer&&this.myPlayer.paused){this.myPlayer.play();this.paused=this.myPlayer.paused();this.dispatchEvent(["playing",this.currentTime,this.duration]);}}
FlashAdPlayer.prototype.playSuspend=function(){this.myPlayer.play();this.paused=this.myPlayer.paused;}
FlashAdPlayer.prototype.pause=function(){if(this.myPlayer&&!this.myPlayer.paused()){this.myPlayer.pause();this.paused=this.myPlayer.paused();this.dispatchEvent(["paused",this.currentTime,this.duration]);}}
FlashAdPlayer.prototype.seekTo=function(percent){if(this.myPlayer){this.myPlayer.seekTo((percent*this.getDuration())/100);}}
FlashAdPlayer.prototype.setVolume=function(percent){if(this.myPlayer){if(percent<0)percent=0;else if(percent>100)percent=100;this.myPlayer.setVolume(percent);}}
FlashAdPlayer.prototype.getVolume=function(){if(this.myPlayer){return this.myPlayer.getVolume()*100;}}
FlashAdPlayer.prototype.getDuration=function(){return this.duration;}
FlashAdPlayer.prototype.getCurrentTime=function(){return this.currentTime;}
FlashAdPlayer.prototype.isMetadataLoaded=function(){return(this.getDuration()&&this.getDuration()>0)?true:false;}
FlashAdPlayer.prototype.showControls=function(value){if(typeof this.myPlayer!='undefined')
this.myPlayer.controls=value;}
FlashAdPlayer.prototype.isMuted=function(value){if(typeof this.myPlayer!='undefined')
this.myPlayer.muted=value;}
FlashAdPlayer.prototype.removePlayer=function(){var playerDiv='player_'+this.id+'_flashad';this.myPlayer=undefined;swfobject.removeSWF(playerDiv);if(document.getElementById(playerDiv))
document.getElementById(playerDiv).parentNode.removeChild(document.getElementById(playerDiv));}
FlashAdPlayer.prototype.getAvailableQualityLevels=function(){var aux=new Array()
return aux;}
FlashAdPlayer.prototype.getPlaybackQuality=function(){return"";}
FlashAdPlayer.prototype.setPlaybackQuality=function(value){}
FlashAdPlayer.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.unsubscribe=function(fn){eventAction=null;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{}};return this;}
FlashAdPlayer.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};var idvideoYTGlobal;function YoutubePlayer(controllerId){this.type="youtube";this.url;this.state;this.myPlayer;this.duration;this.paused;this.api_loaded;this.currentTime;this.id;this.controllerId=controllerId;this.idComponent;this.intervalTime;this.theEvent;this.states={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5}
this.currentSrc;this.baseURI=window.location.href;this.volume;this.muted;}
YoutubePlayer.prototype.createPlayer=function(idComponent,videoData){this.id=videoData.id;this.idComponent=idComponent;this.url=videoData.srcYT;this.currentSrc=videoData.srcYT;this.theEvent=this.CustomEvent("OnSomethingHappened");if(jQuery(idComponent).find('.gp-display-video').length)
{jQuery(idComponent).find('.gp-display-video').append('<div id="youtube-player"></div>');jQuery(this.idComponent).find('.gp-display-video').show();}
if(typeof YT=='undefined'){var tag=document.createElement('script');tag.src="//www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);this.api_loaded=true;idvideoYTGlobal=this.controllerId;}else{onYouTubeIframeAPIReady();}}
YoutubePlayer.prototype.createPlayer2=function(){this.myPlayer=new YT.Player('youtube-player',{height:'100%',width:'100%',videoId:this.url,controls:0,autohide:0,playerVars:{origin:'http://',showinfo:0,controls:0,autoplay:1}});this.activateListeners();}
YoutubePlayer.prototype.activateListeners=function(){var done=false;var _this=this;var intervalYT;if(this.myPlayer!=null){this.myPlayer.addEventListener("onReady",function videoStart(event){if(event.data==null){event.target.addEventListener("onStateChange",function onTimeUpdate(evt){if(evt.data==YT.PlayerState.PLAYING&&!done){_this.intervalTime=setInterval(function(){_this.dispatchEvent(["time",_this.getCurrentTime(),_this.getDuration()]);},1000);_this.dispatchEvent(["start",_this.getCurrentTime(),_this.getDuration()]);done=true;}else if(evt.data==YT.PlayerState.ENDED){clearInterval(_this.intervalTime);_this.paused=false;_this.dispatchEvent(["end",_this.getCurrentTime(),_this.getDuration()]);done=false;}else if(evt.data==YT.PlayerState.PAUSED){clearInterval(_this.intervalTime);if(_this.getCurrentTime()<_this.getDuration())
_this.dispatchEvent(["paused",_this.getCurrentTime(),_this.getDuration()]);}else if(evt.data==YT.PlayerState.PLAYING){clearInterval(_this.intervalTime);_this.intervalTime=setInterval(function(){_this.dispatchEvent(["time",_this.getCurrentTime(),_this.getDuration()]);},1000);_this.dispatchEvent(["playing",_this.getCurrentTime(),_this.getDuration()]);}
if(_this.myPlayer)_this.paused=(_this.myPlayer.getPlayerState()==_this.states.PAUSED);},false);event.target.addEventListener("onError",function videoFailed(err){_this.dispatchEvent(["error",_this.getCurrentTime(),_this.getDuration()]);},false);event.target.addEventListener("onPlaybackQualityChange",function onQualityChange(evt){_this.dispatchEvent(["onQualityChange",evt.data]);},false);}
if((navigator.userAgent.match(/iPad/i)==null)&&(navigator.userAgent.match(/iPhone/i)==null)){event.target.playVideo();}},false);this.myPlayer.addEventListener(clickEvent,function onSpotClickThrough(){_this.dispatchEvent(["error",_this.getCurrentTime(),_this.getDuration()]);},false);}}
YoutubePlayer.prototype.play=function(){if(this.myPlayer&&this.paused){this.myPlayer.playVideo();this.paused=this.myPlayer.paused;}}
YoutubePlayer.prototype.pause=function(){if(this.myPlayer&&!this.paused){this.myPlayer.pauseVideo();}}
YoutubePlayer.prototype.seekTo=function(percent){if(this.myPlayer){this.myPlayer.seekTo((percent*this.getDuration())/100,true);}}
YoutubePlayer.prototype.setVolume=function(percent){if(this.myPlayer){if(percent<0)percent=0;else if(percent>100)percent=100;this.myPlayer.setVolume(percent);}}
YoutubePlayer.prototype.getVolume=function(){if(this.myPlayer){return this.myPlayer.getVolume();}}
YoutubePlayer.prototype.getDuration=function(){return this.myPlayer.getDuration();}
YoutubePlayer.prototype.getCurrentTime=function(){return this.myPlayer.getCurrentTime();}
YoutubePlayer.prototype.isMetadataLoaded=function(){return(this.getDuration()&&this.getDuration()>0)?true:false;}
YoutubePlayer.prototype.showControls=function(value){}
YoutubePlayer.prototype.isMuted=function(value){}
YoutubePlayer.prototype.removePlayer=function(){clearInterval(this.intervalTime);if(this.myPlayer!=null){this.myPlayer.destroy();this.myPlayer=null;}}
YoutubePlayer.prototype.getAvailableQualityLevels=function(){var aux=new Array()
try{if(this.myPlayer!=null){aux=this.myPlayer.getAvailableQualityLevels();return aux;}}catch(error){return aux;}}
YoutubePlayer.prototype.getPlaybackQuality=function(){var aux="";try{if(this.myPlayer!=null){aux=this.myPlayer.getPlaybackQuality();return aux;}}catch(error){return aux;}}
YoutubePlayer.prototype.setPlaybackQuality=function(value){try{if(this.myPlayer!=null){this.myPlayer.setPlaybackQuality(value);}}catch(error){}}
YoutubePlayer.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.unsubscribe=function(fn){eventAction=null;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{}};return this;}
YoutubePlayer.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});}
/*function onYouTubeIframeAPIReady(){videoControllers.getItem(idvideoYTGlobal).pl.createPlayer2();};*/function AudioFlashPlayer(controllerId){this.type="flash";this.url;this.state;this.myPlayer;this.duration;this.paused;this.currentTime;this.id;this.isFirstStart=false;this.controllerId=controllerId;this.idComponent;this.theEvent;this.currentSrc;this.baseURI=window.location.href;this.volume;this.muted;}
AudioFlashPlayer.prototype.createPlayer=function(idComponent,_url,id){this.isFirstStart=false;this.idComponent=idComponent;this.theEvent=this.CustomEvent("OnSomethingHappened");this.id=id;this.currentSrc=_url;var playerSwf=APP_URL+"swf/player.swf";var currentWidth;var currentHeight;var playerDiv='player_'+this.id+'_flash';jQuery(this.idComponent).find('.gp-display-video').append('<div id="'+playerDiv+'" class="'+playerDiv+'"></div>');currentWidth=jQuery(this.idComponent).width();currentHeight=jQuery(this.idComponent).height();var flashvars={urlVideo:_url,idVideoController:this.controllerId,debugEnable:true};var params={};params.quality="high";params.allowscriptaccess="always";params.allowfullscreen="true";var attributes={};attributes.id=playerDiv;attributes.name=playerDiv;attributes.align="left";swfobject.embedSWF(playerSwf,playerDiv,'100%','100%',"11.1.0","expressInstall.swf",flashvars,params,attributes);this.myPlayer=thisMovie(playerDiv);}
AudioFlashPlayer.prototype.activateListeners=function(type,duration,currentTime){this.duration=duration;this.currentTime=currentTime;switch(type){case"onstart":jQuery(this).trigger({type:"play",message:"play",time:new Date()});this.dispatchEvent(["start",currentTime,duration]);break;case"ontime":jQuery(this).trigger({type:"progress",message:"progress",time:new Date()});this.dispatchEvent(["time",currentTime,duration]);break;case"onmetadata":jQuery(this.idComponent).find('.gp-display-video').show();this.dispatchEvent(["loadeddata",currentTime,duration]);break;case"onplaying":jQuery(this).trigger({type:"playing",message:"playing",time:new Date()});this.dispatchEvent(["playing",currentTime,duration]);break;case"onend":jQuery(this).trigger({type:"ended",message:"ended",time:new Date()});this.dispatchEvent(["end",currentTime,duration]);break;case"onpaused":jQuery(this).trigger({type:"pause",message:"pause",time:new Date()});this.dispatchEvent(["paused",currentTime,duration]);break;case"onerror":this.dispatchEvent(["error",currentTime,duration]);break;case"onclick":this.dispatchEvent(["click",currentTime,duration]);break;}}
AudioFlashPlayer.prototype.play=function(){if(this.myPlayer&&this.myPlayer.paused){this.myPlayer.play();this.paused=this.myPlayer.paused;this.dispatchEvent(["playing",this.currentTime,this.duration]);}}
AudioFlashPlayer.prototype.playSuspend=function(){this.myPlayer.play();this.paused=this.myPlayer.paused;}
AudioFlashPlayer.prototype.pause=function(){if(this.myPlayer&&!this.myPlayer.paused()){this.myPlayer.pause();this.paused=this.myPlayer.paused();this.dispatchEvent(["paused",this.currentTime,this.duration]);}}
AudioFlashPlayer.prototype.seekTo=function(percent){if(this.myPlayer){this.myPlayer.seekTo((percent*this.getDuration())/100);}}
AudioFlashPlayer.prototype.setVolume=function(percent){if(this.myPlayer){if(percent<0)percent=0;else if(percent>100)percent=100;this.myPlayer.setVolume(percent/100);this.volume=this.getVolume();if(this.volume==0){this.muted=true;}else{this.muted=false;}
jQuery(this).trigger({type:"volumechange",message:"volumechange",time:new Date()});}}
AudioFlashPlayer.prototype.getVolume=function(){if(this.myPlayer){return this.myPlayer.getVolume()*100;}}
AudioFlashPlayer.prototype.getDuration=function(){return this.duration;}
AudioFlashPlayer.prototype.getCurrentTime=function(){return this.currentTime;}
AudioFlashPlayer.prototype.isMetadataLoaded=function(){return(this.getDuration()&&this.getDuration()>0)?true:false;}
AudioFlashPlayer.prototype.showControls=function(value){if(typeof this.myPlayer!='undefined')
this.myPlayer.controls=value;}
AudioFlashPlayer.prototype.isMuted=function(value){if(typeof this.myPlayer!='undefined')
this.myPlayer.muted=value;}
AudioFlashPlayer.prototype.removePlayer=function(){var playerDiv='player_'+this.id+'_flash';this.myPlayer=undefined;swfobject.removeSWF(playerDiv);}
AudioFlashPlayer.prototype.getAvailableQualityLevels=function(){var aux=new Array()
return aux;}
AudioFlashPlayer.prototype.getPlaybackQuality=function(){return"";}
AudioFlashPlayer.prototype.setPlaybackQuality=function(value){}
AudioFlashPlayer.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.unsubscribe=function(fn){eventAction=null;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{}};return this;}
AudioFlashPlayer.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function VimeoPlayer(controllerId){this.type="vimeo";this.url;this.state;this.myPlayer;this.duration;this.paused;this.api_loaded;this.currentTime;this.id;this.controllerId=controllerId;this.idComponent;this.theEvent;this.currentSrc;this.baseURI=window.location.href;this.volume;this.muted;}
VimeoPlayer.prototype.createPlayer=function(idComponent,videoData){var _this=this;this.id=videoData.id;this.idComponent=idComponent;this.theEvent=this.CustomEvent("OnSomethingHappened");this.currentSrc=videoData.srcVimeo;this.duration=0;if(jQuery(idComponent).find('.gp-display-video').length)
{jQuery(idComponent).find('.gp-display-video').append('<iframe id="player_'+this.id+'" src="http://player.vimeo.com/video/'+videoData.srcVimeo+'?api=1&amp;player_id=player_'+videoData.id+'" style="height: 100%;width: 100%;" frameborder="0"></iframe>');}
$.rloader([{src:'/js/video/utils/froogaloop.js'},{event:'onready',func:_this.activateListeners,arg:this}]);}
VimeoPlayer.prototype.activateListeners=function(obj){var done=false;var vimeoPlayers=document.querySelectorAll('iframe'),player;var dur=0;var _this=obj;for(var i=0,length=vimeoPlayers.length;i<length;i++){player=vimeoPlayers[i];player_id='player_'+obj.id;_this.myPlayer=$f(player);$f(player).addEvent('ready',function(){$f(player).api('play');$f(player).addEvent('play',function(){_this.paused=false;$f(player).api('getDuration',function(value,player_id){_this.duration=value;});if(!done){jQuery(this).trigger({type:"play",message:"play",time:new Date()});_this.dispatchEvent(["start",0,_this.duration]);done=true;}else{jQuery(this).trigger({type:"playing",message:"playing",time:new Date()});_this.dispatchEvent(["playing",0,_this.duration]);}});$f(player).addEvent('pause',function(){if(_this.currentTime<_this.duration-1){_this.paused=true;jQuery(this).trigger({type:"pause",message:"pause",time:new Date()});_this.dispatchEvent(["paused",_this.currentTime,_this.duration]);}});$f(player).addEvent('finish',function(){jQuery(this).trigger({type:"ended",message:"ended",time:new Date()});_this.dispatchEvent(["end",_this.currentTime,_this.duration]);});$f(player).addEvent('playProgress',function(){$f(player).api('getCurrentTime',function(value,player_id){_this.currentTime=value;jQuery(this).trigger({type:"progress",message:"progress",time:new Date()});_this.dispatchEvent(["time",value,_this.duration]);});});});}}
VimeoPlayer.prototype.play=function(){if(this.myPlayer&&this.paused){this.myPlayer.api('play');}}
VimeoPlayer.prototype.pause=function(){if(this.myPlayer&&!this.paused){this.myPlayer.api('pause');}}
VimeoPlayer.prototype.seekTo=function(percent){if(this.myPlayer){this.myPlayer.api('seekTo',((percent*this.getDuration())/100));}}
VimeoPlayer.prototype.setVolume=function(percent){if(this.myPlayer){if(percent>0)percent=percent/100;this.myPlayer.api('setVolume',percent);this.volume=this.getVolume();if(this.volume==0){this.muted=true;}else{this.muted=false;}
jQuery(this).trigger({type:"volumechange",message:"volumechange",time:new Date()});}}
VimeoPlayer.prototype.getVolume=function(){if(this.myPlayer){return this.myPlayer.api('getVolume');}}
VimeoPlayer.prototype.getDuration=function(){return this.duration;}
VimeoPlayer.prototype.getCurrentTime=function(){return this.currentTime;}
VimeoPlayer.prototype.isMetadataLoaded=function(){return(this.myPlayer.api('getDuration')&&this.myPlayer.api('getDuration')>0)?true:false;}
VimeoPlayer.prototype.showControls=function(value){}
VimeoPlayer.prototype.isMuted=function(value){}
VimeoPlayer.prototype.removePlayer=function(){jQuery("iframe[id=player_"+this.id+"]").remove();}
VimeoPlayer.prototype.getAvailableQualityLevels=function(){var aux=new Array()
return aux;}
VimeoPlayer.prototype.getPlaybackQuality=function(){return"";}
VimeoPlayer.prototype.setPlaybackQuality=function(value){}
VimeoPlayer.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.unsubscribe=function(fn){eventAction=null;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{}};return this;}
VimeoPlayer.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function CensorComponent(idComponent){this.theEvent=this.CustomEvent("onModulesEvent");this.idComponent=idComponent;this.clickEvent=(navigator.userAgent.match(/iPad/i))?"touchstart":"click";this.typeModule="censor";}
CensorComponent.prototype.create=function(){this.theEvent=this.CustomEvent("onModulesEvent");if(jQuery(this.idComponent).find('.reportbaduse_video_player').length==0)
{jQuery(this.idComponent).append('<div id="" class="gp-extra-functionality gp-reportbaduse-video-player reportbaduse_video_player" style=""> '+'<div class="gp-extra-functionality-content"> '+'<div class="gp-extra-content-close"> '+'<a href="javascript:;" title="Cerrar ventana" class="gp-extra-content-close-ico">&times;</a> '+'</div> '+'<div class="gp-extra-content"> '+'<form name="form_censor" id="form_censor" method="post" action="" class="gp-extra-form"> '+'<label>¿Consideras este contenido como inapropiado? Háznoslo saber.</label> '+'<input type="text" name="nameFrom" id="nameFrom" class="" placeholder="tu nombre" /> '+'<input type="email" name="mailFrom" id="mailFrom" class="" placeholder="tu e-mail" /> '+'<input type="hidden" name="idContent" id="idContent" />  '+'<input type="hidden" name="sendFrom" id="sendFrom" value="player" /> '+'<div class="gp-extra-content-buttons"> '+'<input type="submit" name="send_email_player" id="send_email_player" value="enviar" class=""> '+'<input type="reset" name="reset_send_email_player" id="reset_send_email_player" value="cancelar" class="gp-last-button"> '+'</div> '+' </form> '+'</div> '+'<h3 class="gp-extra-title">Marcar como inadecuado</h3> '+'</div> '+'</div>');this.activateListeners();}
jQuery(this.idComponent).find('.reportbaduse_video_player').show();}
CensorComponent.prototype.close=function(){jQuery(this.idComponent).find('.reportbaduse_video_player').hide();this.dispatchEvent(["close",this.typeModule]);}
CensorComponent.prototype.remove=function(){jQuery(this.idComponent).find('.reportbaduse_video_player').remove();}
CensorComponent.prototype.activateListeners=function(){var _this=this;if(jQuery(this.idComponent).find('.gp-extra-content-close-ico').length>0){jQuery(this.idComponent).find('.gp-extra-content-close-ico').on(this.clickEvent,function(e){e.preventDefault();_this.close();});}}
CensorComponent.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{alert('Nothing subscribed to the '+this.eventName+' event!');}};return this;}
CensorComponent.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function ConfigComponent(idComponent,qualities){this.theEvent=this.CustomEvent("onModulesEvent");this.idComponent=idComponent;this.clickEvent=(navigator.userAgent.match(/iPad/i))?"touchstart":"click";this.typeModule="config";this.qualities=qualities;this.qualitySelected;}
ConfigComponent.prototype.create=function(qualitySelected){this.qualitySelected=qualitySelected;this.theEvent=this.CustomEvent("onModulesEvent");if(jQuery(this.idComponent).find('.gp-configuration-functionality').length==0)
{jQuery(this.idComponent).append('<div id="" class="gp-extra-functionality gp-configuration-functionality"> '+'<form id="" class=""> '+'<label for="gp-quality" class="gp-quality-conf-label">CALIDAD</label> '+'<select name="gp-quality" class="gp-quality-conf"> '+'</select> '+'</form> '+'</div>');this.activateListeners();}
jQuery(this.idComponent).find('.gp-configuration-functionality').show();}
ConfigComponent.prototype.getIndexQualitySelected=function(){var i=0;var index=0;for(i=0;i<this.qualities.length;i++){if(this.qualities[i].value==this.qualitySelected){index=i;}}
return index;}
ConfigComponent.prototype.close=function(){var _this=this;jQuery(this.idComponent).find('.gp-configuration-functionality').animate({opacity:0},300,function(){jQuery(this.idComponent).find('.gp-configuration-functionality').hide();jQuery(this.idComponent).find('.gp-configuration-functionality').css('opacity',1);_this.dispatchEvent(["close",_this.typeModule]);})}
ConfigComponent.prototype.remove=function(){jQuery(this.idComponent).find('.gp-configuration-functionality').remove();}
ConfigComponent.prototype.activateListeners=function(){var _this=this;if(jQuery(this.idComponent).find('.gp-configuration-functionality').length>0){jQuery(this.idComponent).find('.gp-configuration-functionality').mouseleave(function(){_this.close();});}
jQuery('.gp-quality-conf').ddslick({data:_this.qualities,height:100,defaultSelectedIndex:_this.getIndexQualitySelected(),onSelected:function(selectedData){_this.dispatchEvent(["qualitySelected",_this.typeModule,selectedData.selectedData.value]);}});}
ConfigComponent.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{}};return this;}
ConfigComponent.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function ControlsComponent(idComponent,config){this.duration;this.currentTime;this.displayBar;this.displayVolume;this.displayTitle;this.theEvent;this.volume=50;this.idComponent=idComponent;this.config=config;this.isLike=false;this.interval;this.isAudio=false;}
ControlsComponent.prototype.createControls=function(isAudio){this.theEvent=this.CustomEvent("onControlsEvent");this.isAudio=isAudio;if(jQuery(this.idComponent).find('.gp-interface').length==0)
{jQuery(this.idComponent).append('<div class="gp-interface" style="display:none;">'+' <div class="gp-progress">'+'<div class="gp-seek-bar">'+'<div class="gp-play-bar" style="width:0%;"></div>'+'</div>'+'</div>'+'<ul class="gp-controls-holder">'+'<li><a href="javascript:;" title="Full screen" class="icon icon-full-screen gp-full-screen">Full screen</a></li>'+'<li><a href="javascript:;" title="Restore screen" class="icon icon-restore-screen gp-restore-screen">Restore screen</a></li>'+'<li>'+'<a href="javascript:;" class="icon icon-mute-btn gp-mute-btn" title="Mute">Mute</a>'+'<a href="javascript:;" class="icon icon-unmute-btn gp-unmute-btn" title="unMute" style="">unMute</a>'+'<div class="gp-volume-bar-content">'+'<a href="javascript:;" class="icon icon-mute gp-mute" title="Mute">Mute</a>'+'<a href="javascript:;" class="icon icon-unmute gp-unmute" title="unMute" style="">unMute</a>'+'<div class="gp-volume-bar">'+'<div class="gp-volume-bar-value" style="height: 100%; width:100%;"></div>'+'</div>'+'</div> '+'</li>'+'<li><a href="javascript:;" title="Configuration" class="icon icon-configuration gp-configuration">Configuration</a></li>'+'<li><a href="javascript:;" title="Enviar a un amigo" class="icon icon-send-friend gp-enviar">Enviar a un amigo</a></li>'+'<li>'+'<a href="javascript:;" title="¿Te gusta?" class="icon icon-like gp-like">Me gusta</a>'+'<div class="gp-display-like-info"><p class="icon icon-like active">ME GUSTA</p></div>'+'</li>'+'<li><a href="javascript:;" title="Compartir" class="icon icon-share gp-compartir">Compartir</a></li>'+'<li><a href="javascript:;" title="Código" class="icon icon-code gp-code">Código</a></li>'+'<li><a href="javascript:;" title="Informar" class="icon icon-inform gp-inform">Informar</a></li>'+'<li class="gp-self-playlist">'+'<a href="javascript:;" class="icon icon-self-playlist-prev" title="Anterior">Anterior</a>'+'<div class="gp-self-playlist-info"><span>00</span> / 00</div>'+'<a href="javascript:;" class="icon icon-self-playlist-next" title="Siguiente">Siguiente</a>'+'</li>'+'</ul>'+'<ul class="gp-controls-holder-left">'+'<li><a href="javascript:;" title="Play" class="icon icon-play gp-play">Play</a></li>'+'<li><a href="javascript:;" title="Pause" class="icon icon-pause gp-pause">Pause</a></li>'+'<li class="gp-controls-time-content"><span class="gp-current-time">00:00:00</span> / <span class="gp-duration">Cargando...</span></li>'+'</ul>'+'</div>');}
if(isAudio){jQuery(this.idComponent).find('.gp-interface').addClass('gp-interface-radio');jQuery(".gp-volume-bar-value").css('width',this.volume+'%');}else{jQuery(".gp-volume-bar-value").css('height',this.volume+'%');}
this.updateConfig();this.activateListeners();}
ControlsComponent.prototype.loadingDuration=function(){var _this=this;var text="Cargando";var lod=[' ','.','..','...'];var lodSelected=0;_this.interval=setInterval(function(){if(_this.duration<1){if(lodSelected<lod.length-1){lodSelected++;}else{lodSelected=0;}
jQuery(_this.idComponent).find(".gp-duration").html(text+" "+lod[lodSelected]);}},500);}
ControlsComponent.prototype.setDuration=function(value){clearInterval(this.interval);this.duration=value;if(this.duration>0)
jQuery(this.idComponent).find(".gp-duration").html(this.secondstotime(value));}
ControlsComponent.prototype.setCurrentTime=function(value){this.currentTime=value;jQuery(this.idComponent).find(".gp-current-time").html(this.secondstotime(value));if(this.duration>0&&this.currentTime>0){jQuery(this.idComponent).find(".gp-play-bar").css('width',this.calculatePercentSeek()+'%');}}
ControlsComponent.prototype.setTitle=function(value){jQuery(this.idComponent).find("div[class=gp-title] ul li").html(value);}
ControlsComponent.prototype.displayBar=function(isDisplay){(isDisplay)?jjQuery(this.idComponent).find(".gp-progress").show():jQuery(this.idComponent).find(".gp-progress").hide();}
ControlsComponent.prototype.displayTime=function(isDisplay){(isDisplay)?jQuery(this.idComponent).find(".gp-controls-time-content").show():jQuery(this.idComponent).find(".gp-controls-time-content").hide();}
ControlsComponent.prototype.setVolume=function(value){if(this.config.volume==true){if(value>0)this.volume=value;if(jQuery(this.idComponent).find('.gp-interface-radio').length==0){jQuery(this.idComponent).find(".gp-volume-bar-value").css('height',value+'%');jQuery(this.idComponent).find(".gp-volume-bar-value").css('width','100%');if(value==0){jQuery(this.idComponent).find(".gp-mute").show();jQuery(this.idComponent).find(".gp-unmute").hide();jQuery(this.idComponent).find(".gp-mute-btn").show();jQuery(this.idComponent).find(".gp-unmute-btn").hide();}else{jQuery(this.idComponent).find(".gp-mute").hide();jQuery(this.idComponent).find(".gp-unmute").show();jQuery(this.idComponent).find(".gp-mute-btn").hide();jQuery(this.idComponent).find(".gp-unmute-btn").show();}}else{jQuery(this.idComponent).find(".gp-volume-bar-value").css('width',value+'%');jQuery(this.idComponent).find(".gp-volume-bar-value").css('height','100%');}
if(value==0){}else{}}}
ControlsComponent.prototype.getVolume=function(){return this.volume;}
ControlsComponent.prototype.displayControls=function(isDisplay){(isDisplay)?jQuery(this.idComponent).find(".gp-interface").show():jQuery(this.idComponent).find(".gp-interface").hide();}
ControlsComponent.prototype.displayVolume=function(isDisplay){(isDisplay)?jQuery(this.idComponent).find(".gp-volume-bar").show():jQuery(this.idComponent).find(".gp-volume-bar").hide();}
ControlsComponent.prototype.displayTitle=function(isDisplay){(isDisplay)?jQuery(this.idComponent).find(".gp-title").show():jQuery(this.idComponent).find(".gp-title").hide();}
ControlsComponent.prototype.updateConfig=function(conf){if(typeof conf!='undefined'){this.config=conf;}
if((navigator.userAgent.match(/iPad/i))||(navigator.userAgent.match(/iPhone/i)))this.config.volume=false;if(this.config){this.displayButton(".gp-enviar",this.config.sendfriend);this.displayButton(".gp-rating",this.config.rating);this.displayButton(".gp-compartir",this.config.share);this.displayButton(".gp-progress",!this.config.isLive);this.displayButton(".gp-controls-time-content",!this.config.isLive);this.displayButton(".gp-inform",this.config.censor);this.displayButton(".gp-code",this.config.embed);this.displayButton(".gp-like",this.config.like);this.displayButton(".gp-unmute-btn",this.config.volume);this.displayButton(".gp-configuration",this.config.configuration);this.displayButton(".gp-full-screen",this.config.fullscreen);}}
ControlsComponent.prototype.activateListeners=function(){var _this=this;var clickEvent=(navigator.userAgent.match(/iPad/i))?"touchstart":"click";jQuery(_this.idComponent).find(".gp-play").on(clickEvent,function(e){_this.dispatchEvent(["onclickplay"]);});jQuery(_this.idComponent).find(".gp-like").on(clickEvent,function(e){if(!_this.isLike){_this.dispatchEvent(["onclicklike"]);}});jQuery(_this.idComponent).find(".gp-pause").on(clickEvent,function(e){_this.dispatchEvent(["onclickpause"]);});jQuery(_this.idComponent).find(".gp-mute").on(clickEvent,function(e){if(jQuery(_this.idComponent).find('.gp-interface-radio').length>0){jQuery(_this.idComponent).find(".gp-unmute").show();jQuery(this).hide();}
_this.setVolume(_this.volume);_this.dispatchEvent(["onclickunmute",_this.volume]);});jQuery(_this.idComponent).find(".gp-unmute").on(clickEvent,function(e){if(jQuery(_this.idComponent).find('.gp-interface-radio').length>0){jQuery(_this.idComponent).find(".gp-mute").show();jQuery(this).hide();}
_this.setVolume(0);_this.dispatchEvent(["onclickmute",0]);});jQuery(_this.idComponent).find(".gp-mute-btn").on(clickEvent,function(e){jQuery(_this.idComponent).find('.gp-volume-bar-content').show();if(jQuery(_this.idComponent).find('.gp-interface-radio').length>0){jQuery(_this).hide();jQuery(_this.idComponent).find('.gp-unmute-btn').hide();if(_this.volume>0){jQuery(_this.idComponent).find(".gp-unmute").show();jQuery(_this.idComponent).find(".gp-mute").hide();}else{jQuery(_this.idComponent).find(".gp-unmute").hide();jQuery(_this.idComponent).find(".gp-mute").show();}}});jQuery(_this.idComponent).find(".gp-unmute-btn").on(clickEvent,function(e){jQuery(_this.idComponent).find('.gp-volume-bar-content').show();if(jQuery(_this.idComponent).find('.gp-interface-radio').length>0){jQuery(this).hide();jQuery(_this.idComponent).find('.gp-mute-btn').hide();if(_this.volume>0){jQuery(_this.idComponent).find(".gp-unmute").show();jQuery(_this.idComponent).find(".gp-mute").hide();}else{jQuery(_this.idComponent).find(".gp-unmute").hide();jQuery(_this.idComponent).find(".gp-mute").show();}}});jQuery(_this.idComponent).find(".gp-volume-max").on(clickEvent,function(e){_this.dispatchEvent(["onclickvolmax",100]);});jQuery(_this.idComponent).find(".gp-controls-holder").find(".gp-full-screen").on(clickEvent,function(e){_this.dispatchEvent(["onclickfullscreen"]);});jQuery(_this.idComponent).find(".gp-votar").on(clickEvent,function(e){_this.dispatchEvent(["onclickvotar"]);});jQuery(_this.idComponent).find(".gp-code").on(clickEvent,function(e){_this.dispatchEvent(["onclickembed"]);});jQuery(_this.idComponent).find(".gp-inform").on(clickEvent,function(e){_this.dispatchEvent(["onclickcensor"]);});jQuery(_this.idComponent).find(".gp-configuration").on(clickEvent,function(e){_this.dispatchEvent(["onclickconfig"]);});jQuery(_this.idComponent).find(".gp-compartir").on(clickEvent,function(e){_this.dispatchEvent(["onclickcompartir"]);});jQuery(_this.idComponent).find(".gp-enviar").on(clickEvent,function(e){_this.dispatchEvent(["onclickenviar"]);});jQuery(_this.idComponent).find(".icon-self-playlist-next").on(clickEvent,function(e){_this.dispatchEvent(["onclicknext"]);});jQuery(_this.idComponent).find(".icon-self-playlist-prev").on(clickEvent,function(e){_this.dispatchEvent(["onclickprevious"]);});jQuery(_this.idComponent).find(".gp-seek-bar").on(clickEvent,function(e){var x=0;if(e.pageX){x=e.pageX;}else{x=e.originalEvent.changedTouches[0].pageX;}
x=x-jQuery(this).offset().left;var wd=jQuery(e.currentTarget).width();var percent=parseInt(100*x/wd);_this.dispatchEvent(["onclickseek",percent]);});jQuery(_this.idComponent).find(".gp-volume-bar-content").mouseleave(function(){if(jQuery(_this.idComponent).find('.gp-interface-radio').length>0){if(_this.volume>0){jQuery(_this.idComponent).find(".gp-unmute-btn").show();jQuery(_this.idComponent).find(".gp-mute-btn").hide();}else{jQuery(_this.idComponent).find(".gp-unmute-btn").hide();jQuery(_this.idComponent).find(".gp-mute-btn").show();}}
jQuery(this).hide();});jQuery(_this.idComponent).find(".gp-volume-bar").on(clickEvent,function(e){if(jQuery(_this.idComponent).find('.gp-interface-radio').length==0){var x=e.pageY-jQuery(this).offset().top;var wd=jQuery(e.currentTarget).height();var percent=Math.abs(parseInt(100*x/wd)-100);}else{var x=e.pageX-jQuery(this).offset().left;var wd=jQuery(e.currentTarget).width();var percent=Math.abs(parseInt(100*x/wd));}
if(percent<=2)percent=0;_this.setVolume(percent);_this.dispatchEvent(["onclickvolume",percent]);});}
ControlsComponent.prototype.setListInfo=function(currentItem,totalItems){jQuery(this.idComponent).find(".gp-self-playlist-info").html('<span>'+currentItem+'</span>/'+totalItems);}
ControlsComponent.prototype.displayListInfo=function(isDisplay){if(isDisplay){jQuery(this.idComponent).find(".gp-self-playlist-info").show();jQuery(this.idComponent).find(".icon-self-playlist-prev").show();jQuery(this.idComponent).find(".icon-self-playlist-next").show();}else{jQuery(this.idComponent).find(".gp-self-playlist-info").hide();jQuery(this.idComponent).find(".icon-self-playlist-prev").hide();jQuery(this.idComponent).find(".icon-self-playlist-next").hide();}}
ControlsComponent.prototype.displayButton=function(buttonClass,isDisplay){if(isDisplay){jQuery(this.idComponent).find(buttonClass).show();}else{jQuery(this.idComponent).find(buttonClass).hide();}}
ControlsComponent.prototype.displayPause=function(isDisplay){if(isDisplay){jQuery(this.idComponent).find(".gp-play").hide();jQuery(this.idComponent).find(".gp-pause").show();}else{jQuery(this.idComponent).find(".gp-play").show();jQuery(this.idComponent).find(".gp-pause").hide();}}
ControlsComponent.prototype.calculatePercentSeek=function(){try{return(this.currentTime*100)/this.duration;}catch(error){return 0;}}
ControlsComponent.prototype.calculatePercentVolume=function(){try{return(this.getVolume()*100);}catch(error){return 0;}}
ControlsComponent.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{alert('Nothing subscribed to the '+this.eventName+' event!');}};return this;}
ControlsComponent.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});}
ControlsComponent.prototype.secondstotime=function(secs)
{var t=new Date(1970,0,1);t.setSeconds(secs);var s=t.toTimeString().substr(0,8);if(secs>86399)
s=Math.floor((t-Date.parse("1/1/70"))/3600000)+s.substr(2);return s;}
ControlsComponent.prototype.activateLike=function(isDisplay)
{if(isDisplay){jQuery(this.idComponent).find(".gp-like").addClass('active');jQuery(this.idComponent).find(".gp-like").attr('title','Me gusta');this.isLike=true;this.showInfoLike();}else{jQuery(this.idComponent).find(".gp-like").removeClass('active');}}
ControlsComponent.prototype.showInfoLike=function(){var _this=this;jQuery(this.idComponent).find('.gp-display-like-info').css('bottom',10);jQuery(this.idComponent).find('.gp-display-like-info').css('opacity',0);jQuery(this.idComponent).find('.gp-display-like-info').show();jQuery(this.idComponent).find('.gp-display-like-info').animate({opacity:1,bottom:50},1000,function(){setTimeout(function(){jQuery(_this.idComponent).find('.gp-display-like-info').animate({opacity:0},{duration:500,complete:function(){jQuery(_this.idComponent).find('.gp-display-like-info').hide();}});},1000);});}
ControlsComponent.prototype.hideControls=function(){var _this=this;var bttomNum=(this.isAudio)?0:-50
this.movingControls=true;jQuery(this.idComponent).find('.gp-interface').animate({bottom:bttomNum},{duration:500,queue:false,complete:function(){_this.movingControls=false}});}
ControlsComponent.prototype.showControls=function(){var _this=this;this.movingControls=true;jQuery(this.idComponent).find('.gp-interface').animate({bottom:0},{duration:500,queue:false,complete:function(){_this.movingControls=false}});}
ControlsComponent.prototype.getHeight=function(){return jQuery(this.idComponent).find('.gp-interface').height();}
ControlsComponent.prototype.setIntroduction=function(intro){if(this.config.showRadioFormat&&this.config.showRadioFormat==true&&intro!=""){jQuery(this.idComponent).find('.gp-controls-time-content').html(intro);this.displayButton(".gp-controls-time-content",true);}};function DisplayComponent(idComponent,isAudio,config){this.theEvent=this.CustomEvent("onDisplayEvent");this.idComponent=idComponent;this.clickEvent=(navigator.userAgent.match(/iPad/i))?"touchstart":"click";this.typeModule="display";this.isAudio=isAudio;this.config=config;}
DisplayComponent.prototype.create=function(urlCrop,title,desc){this.theEvent=this.CustomEvent("onDisplayEvent");if(jQuery(this.idComponent).find('.gp-display').length==0)
{var className=(this.isAudio)?'icon-radio-start':'icon-play-start';jQuery(this.idComponent).append('<div class="gp-display">'+'<div class="gp-display-crop" style="background-image:url(\''+urlCrop+'\');">'+'<a href="javascript:;" title=""></a>'+'</div>'+'<div class="gp-display-video"></div> '+'<div class="gp-start-content"> '+'<a href="javascript:;" class="gp-start-link"> '+'<div class="gp-start"> '+'<span class="icon '+className+'">PLAY</span> '+'</div> '+'<div class="coverLayerTitle"> '+'<div class="coverLayerTitleContent">'+' <h1 class="layerTitle">'+title+'</h1> '+' <h2 class="layerTitleDescription">'+desc+'</h2> '+'</div>'+'</div> '+' </a> '+'</div> '+'<div class="gp-loading" style="display:none;"> '+'<div class="gp-loading-img">cargando</div> '+'</div> '+'<div class="gp-display-radio" style="display:none;"> '+'<div class="gp-display-radio-box"> '+'<div class="gp-display-radio-img">((( radio )))</div> '+'</div> '+'</div>'+' <div class="gp-display-adv" style="display:none;"> '+'<a href="javascript:;" target="_blank" class="gp-coverAd gp-coverAd-hide_"></a> '+'<a href="javascript:;" title="Ir al contenido" class="closeaddiv" style="display:none;">Ir al contenido</a> '+'<div class="gp-display-adv-interface"> '+'<div class="gp-display-adv-label">PUBLICIDAD</div> '+'<div class="gp-display-adv-controls-holder"> '+'<ul class="gp-display-adv-controls"> '+'<li><a href="javascript:;" title="Mute" class="icon icon-mute-btn">Mute</a></li> '+'<li><a href="javascript:;" title="unMute" class="icon icon-unmute-btn">unMute</a></li> '+'<li><a href="javascript:;" title="Full screen" class="icon icon-full-screen gp-full-screen">Full screen</a></li> '+'</ul> '+' <div class="gp-display-adv-time">00:00</div> '+'</div> '+'</div> '+'</div> '+'</div>');this.activateListeners();}
jQuery(this.idComponent).find('.gp-display').show();this.displayPlayButton(true);}
DisplayComponent.prototype.setRemainingTime=function(value){jQuery(this.idComponent).find('.gp-display-adv-time').html(this.secondstotime(value));}
DisplayComponent.prototype.displayLoading=function(isDisplay){if(isDisplay){jQuery(this.idComponent).find('.gp-loading').css('opacity','0');jQuery(this.idComponent).find('.gp-loading').show();jQuery(this.idComponent).find('.gp-loading').animate({opacity:1},500);}else{jQuery(this.idComponent).find('.gp-loading').animate({opacity:0},500,function(){jQuery(this).hide();});}}
DisplayComponent.prototype.displayPlayingRadio=function(isDisplay){if(this.isAudio&&jQuery(this.idComponent).find('.gp-display-slider').length==0){if(isDisplay){jQuery(this.idComponent).find('.gp-display-radio').css('opacity','0');jQuery(this.idComponent).find('.gp-display-radio').show();jQuery(this.idComponent).find('.gp-display-radio').animate({opacity:1},500);}else{jQuery(this.idComponent).find('.gp-display-radio').animate({opacity:0},500,function(){jQuery(this).hide();});}}else{jQuery(this.idComponent).find('.gp-display-radio').hide();}}
DisplayComponent.prototype.displayPlayButton=function(isDisplay){if(this.config.showRadioFormat){jQuery(this.idComponent).find('.gp-start').hide();}else{if(this.isAudio)
jQuery(this.idComponent).find('.gp-start').find('span').addClass('icon-radio-start').removeClass('icon-play-start');else
jQuery(this.idComponent).find('.gp-start').find('span').addClass('icon-play-start').removeClass('icon-radio-start');(isDisplay)?jQuery(this.idComponent).find('.gp-start-content').show():jQuery(this.idComponent).find('.gp-start-content').hide();}}
DisplayComponent.prototype.displayCoverAd=function(isDisplay){var _this=this;if(isDisplay){this.displaySkipAd(false);jQuery(this.idComponent).find('.gp-display-adv').show();jQuery(this.idComponent).find('.gp-display-adv-interface').css('bottom',-jQuery(this.idComponent).find('.gp-display-adv-interface').height());jQuery(this.idComponent).find('.gp-display-adv-interface').animate({bottom:"0px"},500);}else{jQuery(this.idComponent).find('.gp-display-adv-interface').animate({bottom:-jQuery(this.idComponent).find('.gp-display-adv-interface').height()+"px"},{duration:700,complete:function(){jQuery(_this.idComponent).find('.gp-display-adv').hide();}});}}
DisplayComponent.prototype.displaySkipAd=function(isDisplay){if(isDisplay){jQuery(this.idComponent).find('.closeaddiv').css('opacity','0');jQuery(this.idComponent).find('.closeaddiv').show();jQuery(this.idComponent).find('.closeaddiv').animate({opacity:1},500);}else{jQuery(this.idComponent).find('.closeaddiv').hide();}}
DisplayComponent.prototype.displayAdControls=function(value){if(value)jQuery(this.idComponent).find('.gp-display-adv-controls').show();else jQuery(this.idComponent).find('.gp-display-adv-controls').hide();}
DisplayComponent.prototype.secondstotime=function(secs)
{var t=new Date(1970,0,1);t.setSeconds(secs);var s=t.toTimeString().substr(0,8);if(secs>86399)
s=Math.floor((t-Date.parse("1/1/70"))/3600000)+s.substr(2);return s;}
DisplayComponent.prototype.activateListeners=function(){var _this=this;if(jQuery(_this.idComponent).find('.gp-start').length>0){jQuery(_this.idComponent).find('.gp-start').on(this.clickEvent,function(e){e.preventDefault();_this.displayPlayButton(false);_this.dispatchEvent(["onclickplay"]);});}
jQuery(_this.idComponent).find('.gp-display-adv-controls').find('.icon-mute-btn').show();jQuery(_this.idComponent).find('.gp-display-adv-controls').find('.icon-unmute-btn').hide();jQuery(_this.idComponent).find('.gp-display-adv-controls').find('.icon-mute-btn').on(this.clickEvent,function(e){e.preventDefault();jQuery(this).hide();jQuery(_this.idComponent).find('.gp-display-adv-controls').find('.icon-unmute-btn').show();_this.dispatchEvent(["onclickmute",0]);});jQuery(_this.idComponent).find('.gp-display-adv-controls').find('.icon-unmute-btn').on(this.clickEvent,function(e){e.preventDefault();jQuery(this).hide();jQuery(_this.idComponent).find('.gp-display-adv-controls').find('.icon-mute-btn').show();_this.dispatchEvent(["onclickunmute",100]);});jQuery(_this.idComponent).find(".gp-display-adv-controls").find('.icon-full-screen').on(this.clickEvent,function(e){e.preventDefault();_this.dispatchEvent(["onclickfullscreen"]);});jQuery(_this.idComponent).find('.closeaddiv').on(this.clickEvent,function(e){e.preventDefault();_this.displayCoverAd(false);_this.dispatchEvent(["onclicknext"]);});jQuery(_this.idComponent).find('.gp-coverAd').on(this.clickEvent,function(e){e.preventDefault();_this.dispatchEvent(["onclickad"]);});}
DisplayComponent.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{alert('Nothing subscribed to the '+this.eventName+' event!');}};return this;}
DisplayComponent.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function EmbedComponent(idComponent){this.theEvent=this.CustomEvent("onModulesEvent");this.idComponent=idComponent;this.clickEvent=(navigator.userAgent.match(/iPad/i))?"touchstart":"click";this.typeModule="embed";}
EmbedComponent.prototype.create=function(code,urlDownload){this.theEvent=this.CustomEvent("onModulesEvent");if(typeof code=='undefined'){code="C&oacute;digo no disponible"};if(jQuery(this.idComponent).find('.embed_video_player').length==0)
{jQuery(this.idComponent).append('<div id="" class="gp-extra-functionality gp-embed-video-player embed_video_player" style=""> '+'<div class="gp-extra-functionality-content"> '+'<div class="gp-extra-content-close"> '+'<a href="javascript:;" title="Cerrar ventana" class="gp-extra-content-close-ico">&times;</a> '+'</div> '+'<div class="gp-extra-content"> '+'<form name="form_embed" id="form_embed" method="post" action="" class="gp-extra-form"> '+'<label for="textarea">Copia este c&oacute;digo y ponlo en tu web</label> '+'<textarea name="textarea" id="textarea" class="gp-extra-textarea-embed" placeholder="c&oacute;digo del v&iacute;deo">'+code+'</textarea> '+'<input type="hidden" name="codeEmbed" id="codeEmbed" value="" /> '+'<input type="hidden" name="sendFrom" id="sendFrom" value="player" /> '+'<div class="gp-extra-content-buttons" > '+'<input type="submit" name="copy_embed_player" id="copy_embed_player" value="seleccionar" class="" /> '+'<input type="reset" name="reset_embed_player" id="reset_embed_player" value="cancelar" class="gp-last-button" /> '+'</div> '+'<div class="gp-extra-dwld-buttons" style="display:none;"> '+'<a href="'+urlDownload+'" target="_blank" class="gp-button gp-alone-button gp-last-button"><i class="icon-download"></i>descargar</a> '+'</div> '+'<div class="gp-extra-message message-common" style="display:none;"> '+'<span>Copia el c&oacute;digo seleccionado al portapapeles (Ctrl + C)</span> '+'</div> '+'</form> '+'</div> '+'<h3 class="gp-extra-title">Pon este v&iacute;deo en tu web</h3> '+'</div> '+'</div>');if(urlDownload!=''){jQuery(this.idComponent).find('.gp-extra-dwld-buttons').show();}
this.activateListeners();}
jQuery(this.idComponent).find('.embed_video_player').show();}
EmbedComponent.prototype.close=function(){jQuery(this.idComponent).find('.embed_video_player').hide();jQuery(this.idComponent).find('.message-common').hide();this.dispatchEvent(["close",this.typeModule]);}
EmbedComponent.prototype.remove=function(){jQuery(this.idComponent).find('.embed_video_player').remove();}
EmbedComponent.prototype.activateListeners=function(){var _this=this;if(jQuery(this.idComponent).find('.gp-extra-content-close-ico').length>0){jQuery(this.idComponent).find('.gp-extra-content-close-ico').on(this.clickEvent,function(e){e.preventDefault();_this.close();});}
if(jQuery(this.idComponent).find('#reset_embed_player').length>0){jQuery(this.idComponent).find('#reset_embed_player').on(this.clickEvent,function(e){e.preventDefault();_this.close();});}
if(jQuery(this.idComponent).find('#copy_embed_player').length>0){jQuery(this.idComponent).find('#copy_embed_player').on(this.clickEvent,function(e){e.preventDefault();jQuery(_this.idComponent).find('.gp-extra-textarea-embed').select();jQuery(_this.idComponent).find('.message-common').show();});}
if(jQuery(this.idComponent).find('.message-common').length>0){jQuery(this.idComponent).find('.message-common').on(this.clickEvent,function(e){e.preventDefault();jQuery(this).hide();});}}
EmbedComponent.prototype.getSelected=function(){var t='';if(window.getSelection){t=window.getSelection();}else if(document.getSelection){t=document.getSelection();}else if(document.selection){t=document.selection.createRange().text;}
return t;}
EmbedComponent.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{alert('Nothing subscribed to the '+this.eventName+' event!');}};return this;}
EmbedComponent.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function EndVideoComponent(idComponent){this.theEvent=this.CustomEvent("onModulesEvent");this.idComponent=idComponent;this.clickEvent=(navigator.userAgent.match(/iPad/i))?"touchstart":"click";this.typeModule="endvideo";}
EndVideoComponent.prototype.create=function(){this.theEvent=this.CustomEvent("onModulesEvent");if(jQuery(this.idComponent).find('.end_video_player').length==0)
{jQuery(this.idComponent).append('<div id="end_video_player" class="div_container_extra_functionality end_video_player" style="display:none"> '+'<div class="container_end_video_player"> '+'<div class="img_video_reprod"> '+'<div class="reprod_button"> '+'<a href="javascript:;" class="replayButton" title="Volver a reproducir vídeo">Volver a reproducir vídeo</a> '+'</div> '+'<img id="poster_end_video" src="" width="100%" height="100%" alt="volver a reproducir vídeo"> '+'</div> '+'</div> '+'</div>');this.activateListeners();}
jQuery(this.idComponent).find('.end_video_player').show();}
EndVideoComponent.prototype.close=function(){jQuery(this.idComponent).find('.end_video_player').hide();this.dispatchEvent(["close",this.typeModule]);}
EndVideoComponent.prototype.remove=function(){jQuery(this.idComponent).find('.end_video_player').remove();}
EndVideoComponent.prototype.activateListeners=function(){var _this=this;if(jQuery(this.idComponent).find('.replayButton').length>0){jQuery(this.idComponent).find('.replayButton').on(this.clickEvent,function(e){e.preventDefault();_this.close();});}}
EndVideoComponent.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{alert('Nothing subscribed to the '+this.eventName+' event!');}};return this;}
EndVideoComponent.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function InfoTrackComponent(idComponent,urlService){this.theEvent=this.CustomEvent("onModulesEvent");this.idComponent=idComponent;this.clickEvent=(navigator.userAgent.match(/iPad/i))?"touchstart":"click";this.typeModule="censor";this.urlService=urlService
this.interval;this.lastTime=0;}
InfoTrackComponent.prototype.create=function(){this.theEvent=this.CustomEvent("onModulesEvent");if(jQuery(this.idComponent).find('.gp-tracking-info-functionality').length==0)
{jQuery(this.idComponent).append('<div id="" class="gp-extra-functionality gp-tracking-info-functionality" style="display:none;opacity:0"> '+'<ul class="tracking-info-list"> '+'<li class="first"> '+'<ul class="tracking-info-item"> '+'<li class="elem1"><h5>Ahora escuchas</h5></li> '+'<li class="elem2"><span>Título:</span> Título de la Canción</li> '+'<li class="elem3"><span>Intérprete:</span> Nombre del Intérprete</li> '+'</ul> '+'</li> '+'<li class="last"> '+'<ul class="tracking-info-item"> '+'<li class="elem1"><h5>Vas a escuchar</h5></li> '+'<li class="elem2"><span>Título:</span> Título de la Canción</li> '+'<li class="elem3"><span>Intérprete:</span> Nombre del Intérprete</li> '+'</ul> '+'</li> '+'</ul> '+'</div>');}
jQuery(this.idComponent).find('.gp-tracking-info-functionality').show();}
InfoTrackComponent.prototype.display=function(isDisplay){if(isDisplay){jQuery(this.idComponent).find('.gp-tracking-info-functionality').show();jQuery(this.idComponent).find('.gp-tracking-info-functionality').animate({opacity:1},500);}else{jQuery(this.idComponent).find('.gp-tracking-info-functionality').animate({opacity:0},500,function(){jQuery(this).hide();});}}
InfoTrackComponent.prototype.close=function(){jQuery(this.idComponent).find('.gp-tracking-info-functionality').hide();clearInterval(this.interval);this.dispatchEvent(["close",this.typeModule]);}
InfoTrackComponent.prototype.remove=function(){clearInterval(this.interval);jQuery(this.idComponent).find('.gp-tracking-info-functionality').remove();}
InfoTrackComponent.prototype.getInfo=function(){var _this=this;if(this.urlService&&this.urlService!=""){$.ajax({async:false,type:"POST",url:this.urlService,dataType:"json",success:function(data){if(_this.lastTime!=data.current_track.time){_this.setData(data.current_track,data.next_track);_this.display(true);_this.lastTime=data.current_track.time;}},error:function(xhr,ajaxOptions,thrownError){_this.display(false);}});}}
InfoTrackComponent.prototype.activateInterval=function(){var _this=this;this.getInfo();this.interval=setInterval(function(){_this.getInfo();},10000);}
InfoTrackComponent.prototype.desactivateInterval=function(){clearInterval(this.interval);}
InfoTrackComponent.prototype.setData=function(current,next){var _this=this;if(current.title.length>70)current.title=current.title.substr(0,70)+'...';if(current.performer.length>40)current.performer=current.performer.substr(0,40)+'...';jQuery(this.idComponent).find('.first').find('.elem2').animate({opacity:0},500);jQuery(this.idComponent).find('.first').find('.elem3').animate({opacity:0},500,function(){jQuery(_this.idComponent).find('.first').find('.elem2').html('<span>Título:</span> '+current.title+'</li>');jQuery(_this.idComponent).find('.first').find('.elem3').html('<span>Intérprete:</span> '+current.performer+'</li>');jQuery(_this.idComponent).find('.first').find('.elem2').animate({opacity:1},500);jQuery(_this.idComponent).find('.first').find('.elem3').animate({opacity:1},500);});if(next.title.length>70)next.title=next.title.substr(0,70)+'...';if(next.performer.length>40)next.performer=next.performer.substr(0,40)+'...';jQuery(this.idComponent).find('.last').find('.elem2').animate({opacity:0},500);jQuery(this.idComponent).find('.last').find('.elem3').animate({opacity:0},500,function(){jQuery(_this.idComponent).find('.last').find('.elem2').html('<span>Título:</span> '+next.title+'</li>');jQuery(_this.idComponent).find('.last').find('.elem3').html('<span>Intérprete:</span> '+next.performer+'</li>');jQuery(_this.idComponent).find('.last').find('.elem2').animate({opacity:1},500);jQuery(_this.idComponent).find('.last').find('.elem3').animate({opacity:1},500);});}
InfoTrackComponent.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{alert('Nothing subscribed to the '+this.eventName+' event!');}};return this;}
InfoTrackComponent.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function LayerTitleComponent(){this.title;this.description;}
LayerTitleComponent.prototype.create=function(idComponent,title,description){if(jQuery(idComponent).find('div[class*=coverLayerTitle]').length==0)
{jQuery(idComponent).find('.ppdisplay').append('<div class="coverLayerTitle">'+'<h1 class="layerTitle">'+title+'</h1>'+'<h2 class="layerTitleDescription">'+description+'</h2> </div>');}
jQuery(idComponent).find('div[class*=coverLayerTitle] h1').html(title);jQuery(idComponent).find('div[class*=coverLayerTitle] h2').html(description);};function LikeComponent(idComponent){this.theEvent=this.CustomEvent("onModulesEvent");this.idComponent=idComponent;this.clickEvent=(navigator.userAgent.match(/iPad/i))?"touchstart":"click";this.typeModule="like";}
LikeComponent.prototype.create=function(){this.theEvent=this.CustomEvent("onModulesEvent");this.activateListeners();}
LikeComponent.prototype.close=function(){this.dispatchEvent(["close",this.typeModule]);}
LikeComponent.prototype.remove=function(){}
LikeComponent.prototype.activateListeners=function(){}
LikeComponent.prototype.sendLike=function(videoData,isFlashEnabled){var _this=this;var urlService=videoData.getServices().urlRating;if(urlService){var params=new Object();params.itemType=(!videoData.isItemAudioSelected())?'20007':'20017';params.itemId=videoData.getItemSelected().id
params.rate=1
params.actor_type=10044
params.code=videoData.getIdenty();params.type=(isFlashEnabled)?0:1;jQuery.ajax({url:urlService,type:'post',dataType:'json',data:params,success:function(data,textStatus,jqXHR){if(data.error==0){data.error=1;}
_this.dispatchEvent(["success",_this.typeModule,data]);},error:function(){_this.dispatchEvent(["failed",_this.typeModule]);}});}else{_this.dispatchEvent(["failed",_this.typeModule]);}}
LikeComponent.prototype.getLike=function(videoData){var _this=this;var urlService=videoData.getServices().urlGetAlreadyVote;if(urlService){var params=new Object();params.itemType=(!videoData.isItemAudioSelected())?'20007':'20017';params.itemId=videoData.getItemSelected().id
jQuery.ajax({url:urlService,type:'post',dataType:'json',data:params,success:function(data,textStatus,jqXHR){_this.dispatchEvent(["success",_this.typeModule,data]);},error:function(){_this.dispatchEvent(["failed",_this.typeModule]);}});}else{_this.dispatchEvent(["failed",_this.typeModule]);}}
LikeComponent.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{alert('Nothing subscribed to the '+this.eventName+' event!');}};return this;}
LikeComponent.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function RatingComponent(idComponent){this.theEvent=this.CustomEvent("onModulesEvent");this.idComponent=idComponent;this.clickEvent=(navigator.userAgent.match(/iPad/i))?"touchstart":"click";this.typeModule="rating";}
RatingComponent.prototype.create=function(){this.theEvent=this.CustomEvent("onModulesEvent");if(jQuery(this.idComponent).find('.vote_video_player').length==0)
{jQuery(this.idComponent).append('<div id="vote_video_player" class="div_container_extra_functionality vote_video_player" style="display: none;">'+'<div class="container_txt_extra_functionality">'+'<h3 class="tit_container_txt_extra_functionality">Votaci&oacute;n</h3>'+'<div class="close_div_container_extra_functionality">'+'<a href="javascript:;" title="Cerrar ventana" class="ico_close_extra_functionality" onclick="jQuery(\'div[id=vote_video_player] div[id=message]\').html(\'\').hide();">&times;</a>'+'</div>'+'<div id="wrapper_scrollv2">'+'<div class="scrollv"> '+'<div class="ratecontainer vote"> '+'<ul class="rateStart_ul">'+'<li class="rateStart_li rateStart_li_off"><a class="rateStart_a" href="javascrip:void(0);"></a></li>'+'<li class="rateStart_li rateStart_li_off"><a class="rateStart_a" href="javascrip:void(0);"></a></li>'+'<li class="rateStart_li rateStart_li_off"><a class="rateStart_a" href="javascrip:void(0);"></a></li>'+'<li class="rateStart_li rateStart_li_off"><a class="rateStart_a" href="javascrip:void(0);"></a></li>'+'<li class="rateStart_li rateStart_li_off"><a class="rateStart_a" href="javascrip:void(0);"></a></li>'+'<li><p class="note_container_txt_extra_functionality rate_number">1 Votos </p></li>'+'</ul>'+'<p class="note_container_txt_extra_functionality" style="float:left;;margin-left: 5%;">Para dar tu valoraci&oacute;n pulsa sobre las estrellas.</p>'+'</div>'+'<div class="ratecontainer_ed"> '+'<ul class="rateStart_ul">'+'<li class="rateStart_li rateStart_li_off" onclick="javascrip:rateByUser(1);"><a class="rateStart_a" href="#"></a></li>'+'<li class="rateStart_li rateStart_li_off" onclick="javascrip:rateByUser(2);"><a class="rateStart_a" href="#"></a></li>'+'<li class="rateStart_li rateStart_li_off" onclick="javascrip:rateByUser(3);"><a class="rateStart_a" href="#"></a></li>'+'<li class="rateStart_li rateStart_li_off" onclick="javascrip:rateByUser(4);"><a class="rateStart_a" href="#"></a></li>'+'<li class="rateStart_li rateStart_li_off" onclick="javascrip:rateByUser(5);"><a class="rateStart_a" href="#"></a></li>'+'</ul>'+'</div>'+'<div id="message_vote_succeful" class="message_player message_succeful" style="display:none;"></div>'+'<div id="message_vote_error" class="message_player message_error" style="display:none;"></div>'+'</div>'+' </div></div></div></div>');this.activateListeners();}
jQuery(this.idComponent).find('.vote_video_player').show();}
RatingComponent.prototype.close=function(){jQuery(this.idComponent).find('.vote_video_player').hide();this.dispatchEvent(["close",this.typeModule]);}
RatingComponent.prototype.remove=function(){jQuery(this.idComponent).find('.vote_video_player').remove();}
RatingComponent.prototype.activateListeners=function(){var _this=this;if(jQuery(this.idComponent).find('.ico_close_extra_functionality').length>0){jQuery(this.idComponent).find('.ico_close_extra_functionality').on(this.clickEvent,function(e){e.preventDefault();_this.close();});}}
RatingComponent.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{alert('Nothing subscribed to the '+this.eventName+' event!');}};return this;}
RatingComponent.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function SendVideoComponent(idComponent){this.theEvent=this.CustomEvent("onModulesEvent");this.idComponent=idComponent;this.clickEvent=(navigator.userAgent.match(/iPad/i))?"touchstart":"click";this.typeModule="sendvideo";this.url="";this.isSendingForm=false;this.interval=0;}
SendVideoComponent.prototype.create=function(videoData){this.url=videoData.getServices().urlSendToFriend+"/0";var contentTpe=(!videoData.isAudio)?'20007':'20017';this.theEvent=this.CustomEvent("onModulesEvent");if(jQuery(this.idComponent).find('.send_video_player').length==0)
{jQuery(this.idComponent).append('<div id="" class="gp-extra-functionality gp-send-video-player send_video_player" style=""> '+'<div class="gp-extra-functionality-content">'+'<div class="gp-extra-content-close">'+'<a href="javascript:;" title="Cerrar ventana" class="gp-extra-content-close-ico">&times;</a>'+'</div>'+'<div class="gp-extra-content">'+'<form name="form_send" id="form_send" method="post" action="" class="gp-extra-form">'+'<input type="email" name="mailFrom" id="mailFrom" class="" placeholder="tu e-mail" />'+'<input type="email" name="mailTo" id="mailTo" class="" placeholder="e-mail de tu amig@" />'+'<textarea name="comment" id="comment" class="" placeholder="tu mensaje"></textarea>'+'<input type="hidden" name="idContent" id="idContent" value="'+videoData.getIdContent()+'"/>'+'<input type="hidden" name="contentType" id="contentType" value="'+contentTpe+'" />'+'<input type="hidden" name="sendFrom" id="sendFrom" value="player" />'+'<div class="gp-extra-content-buttons">'+'<input type="submit" name="send_email_player" id="send_email_player" value="enviar" class="">'+'<input type="reset" name="reset_send_email_player" id="reset_send_email_player" value="cancelar" class="gp-last-button">'+'</div>'+'<div class="gp-extra-message message-successful" style="display:none">'+'<span>El mensaje se ha enviado correctamente.</span>'+'</div>'+'<div class="gp-extra-message message-error" style="display:none">'+'<span>mensaje de error</span>'+'</div>'+'<div class="gp-extra-message message-common" style="display:none"> '+'<span>Enviando correo</span> '+'</div> '+'</form>'+'</div>'+'<h3 class="gp-extra-title">Enviar a un amigo</h3>'+'</div>'+'</div>');this.activateListeners();}
jQuery(this.idComponent).find('.send_video_player').show();}
SendVideoComponent.prototype.close=function(){jQuery(this.idComponent).find('.send_video_player').hide();this.dispatchEvent(["close",this.typeModule]);}
SendVideoComponent.prototype.remove=function(){jQuery(this.idComponent).find('.send_video_player').remove();}
SendVideoComponent.prototype.activateListeners=function(){var _this=this;if(jQuery(this.idComponent).find('.gp-extra-content-close-ico').length>0){jQuery(this.idComponent).find('.gp-extra-content-close-ico').on(this.clickEvent,function(e){e.preventDefault();_this.close();});}
if(jQuery(this.idComponent).find('#reset_send_email_player').length>0){jQuery(this.idComponent).find('#reset_send_email_player').on(this.clickEvent,function(e){e.preventDefault();_this.close();});}
if(jQuery(this.idComponent).find('form[id=form_send]').length>0){jQuery(this.idComponent).find('form[id=form_send]').on('submit',function(event){if(!_this.isSendingForm){_this.isSendingForm=true;event.preventDefault();_this.showSendMessage();var divSuccerful=jQuery(_this.idComponent).find('.message-successful');var divError=jQuery(_this.idComponent).find('.message-error');jQuery(divSuccerful).hide();jQuery(divError).hide();jQuery(divError).on(clickEvent,function(e){e.preventDefault();jQuery(this).hide();});jQuery(divSuccerful).on(clickEvent,function(e){e.preventDefault();jQuery(this).hide();});if(_this.validateFields()==false){_this.isSendingForm=false;jQuery(divError).show();_this.hideSendMessage();jQuery(divError).html('<span>Los campos no pueden ir vacíos</span>');return;}
var params=jQuery(this).serialize();jQuery.ajax({url:_this.url,type:'post',dataType:'json',data:params,success:function(data,textStatus,jqXHR){_this.isSendingForm=false;_this.hideSendMessage();jQuery(divSuccerful).hide();jQuery(divError).hide();if(data.result=='ok'){jQuery(_this.idComponent).find('form[id=form_send] input[type=text]').each(function(){jQuery(this).val('');});jQuery(_this.idComponent).find('form[id=form_send] textarea').val('');jQuery(divSuccerful).show();}else{jQuery(divError).html('');var isFirst=true;if(data.errors&&typeof data.errors=="string"){jQuery(divError).append('<span>'+data.errors+'</span>');}else if(data.errors&&typeof data.errors=="object"&&data.errors.length>0){jQuery(divError).append('<span>'+data.errors[0]+'</span>');}
jQuery(divError).show();}},error:function(){_this.isSendingForm=false;_this.hideSendMessage();jQuery(divError).html('<span>Error en el servicio. Inténtelo más tarde.</span>');jQuery(divError).show();}});}});}}
SendVideoComponent.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{alert('Nothing subscribed to the '+this.eventName+' event!');}};return this;}
SendVideoComponent.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});}
SendVideoComponent.prototype.showSendMessage=function(){var _this=this;var text="Enviando correo";var lod=['.','..','...'];var lodSelected=0;jQuery(this.idComponent).find('.message-common').show();this.interval=setInterval(function(){if(lodSelected<lod.length-1){lodSelected++;}else{lodSelected=0;}
jQuery(_this.idComponent).find('.message-common').find('span').html(text+" "+lod[lodSelected]);},500);}
SendVideoComponent.prototype.hideSendMessage=function(){jQuery(this.idComponent).find('.message-common').hide();clearInterval(this.interval);}
SendVideoComponent.prototype.validateFields=function(){if(jQuery(this.idComponent).find("#mailFrom").val().length<1){return false;}
if(jQuery(this.idComponent).find("#mailTo").val().length<1){return false;}
if(jQuery(this.idComponent).find("#comment").val().length<1){return false;}};function SendVisitComponent(isFlashEnabled,config){this.isFlashEnabled=isFlashEnabled;this.config=config;}
SendVisitComponent.prototype.sendVisit=function(videoData,eventType)
{var sendVisita=true;if(this.config&&this.config.isAdminType==true){sendVisita=false;}
if(videoData&&videoData.getItemSelected()&&sendVisita==true){var urlService=videoData.getServices().urlSendVisit;var variables=new Object();variables.object_type=(!videoData.isAudio)?'20007':'20017';variables.event_type=eventType;variables.type=(this.isFlashEnabled)?0:1;variables.actor_type=10044;variables.identificador=videoData.getIdenty();variables.object_id=(eventType==1)?videoData.getId():videoData.getItemSelected().id;if(urlService&&urlService!=""){$.ajax({async:true,type:"POST",url:urlService,data:variables,dataType:'json',success:function(data){this.events=new Array();},error:function(xhr,ajaxOptions,thrownError){this.events=new Array();}});}}else{}};function ShareComponent(idComponent){this.theEvent=this.CustomEvent("onModulesEvent");this.idComponent=idComponent;this.clickEvent=(navigator.userAgent.match(/iPad/i))?"touchstart":"click";this.typeModule="share";}
ShareComponent.prototype.create=function(){this.theEvent=this.CustomEvent("onModulesEvent");if(jQuery(this.idComponent).find('.add_social_networking').length==0)
{jQuery(this.idComponent).append('<div id="" class="gp-extra-functionality gp-send-video-player add_social_networking" style=""> '+'<div class="gp-extra-functionality-content"> '+'<div class="gp-extra-content-close"> '+'<a href="javascript:;" title="Cerrar ventana" class="gp-extra-content-close-ico">&times;</a> '+'</div> '+'<div class="gp-extra-content"> '+'<ul class="ul_add_social_networking" style="display:none; visibility: hidden;"> '+'<li class="facebook_foo"><a href="http://www.facebook.com/sharer.php?u=URL&t=TITLE" title="Valorar v&iacute;deo" target="_blank">Facebook</a></li> '+'<li class="googleplus_foo"><a href="https://plus.google.com/share?url=URL" title="Valorar v&iacute;deo" target="_blank">Google Plus</a></li> '+'<li class="twitter_foo"><a href="http://twitter.com/home?status=TITLE - URL" title="Valorar v&iacute;deo" target="_blank">Twitter</a></li> '+'<li class="linkedin_foo"><a href="http://www.linkedin.com/shareArticle?mini=true&url=http://www.example.com/&title=titulo_del_link&summary=breve_descripcion&source=origen_del_link" title="Valorar v&iacute;deo" target="_blank">Linkedin</a></li> '+'<li class="tumblr_foo"><a href="http://www.tumblr.com/share" title="Valorar v&iacute;deo" target="_blank">Tumblr</a></li> '+'<li class="pinterest_foo"><a href="http://pinterest.com/pin/create/button/?url={permalink}&media={imagen}&description={descripcion}" title="Valorar v&iacute;deo" target="_blank">Pinterest</a></li> '+'</ul> '+'<ul class="gp-extra-social-list gp-extra-social-list-type1" style="display:none;"> '+'<li><a href="javascript:;" title="Nombre de la Red Social <?=$redsocial;?>" target="_blank" class="">Nombre de la Red Social <?=$redsocial;?></a></li> '+'</ul> '+'<ul class="gp-extra-social-list gp-extra-social-list-type2" style="display:none;"> '+' <li><a href="javascript:;" title="Nombre de la Red Social <?=$redsocial;?>" target="_blank" class="">Nombre de la Red Social <?=$redsocial;?></a></li> '+'</ul> '+'<ul class="gp-extra-social-list" style="display:none;"> '+'<li><a href="javascript:;" title="Nombre de la Red Social <?=$redsocial;?>" target="_blank" class="">Nombre de la Red Social <?=$redsocial;?></a></li> '+'</ul> '+'<ul class="gp-extra-social-list gp-extra-social-list-type1_"> '+'<li><a class="gp-icon-facebook" title="Facebook" href="javascript:;" target="_blank">Facebook</a></li> '+'<li><a class="gp-icon-flickr" title="Flickr" href="javascript:;" target="_blank">Flickr</a></li> '+'<li><a class="gp-icon-tumblr" title="Tumblr" href="javascript:;" target="_blank">Tumblr</a></li> '+'<li><a class="gp-icon-instagram" title="Instagram" href="javascript:;" target="_blank">Instagram</a></li> '+'<li><a class="gp-icon-linkedin" title="LinkedIn" href="javascript:;" target="_blank">LinkedIn</a></li> '+'<li><a class="gp-icon-twitter" title="Twitter" href="javascript:;" target="_blank">Twitter</a></li> '+'<li><a class="gp-icon-blogger" title="Blogger" href="javascript:;" target="_blank">Blogger</a></li> '+'<li><a class="gp-icon-googleplus" title="Google Plus" href="javascript:;" target="_blank">Google Plus</a></li> '+'<li><a class="gp-icon-youtube" title="YouTube" href="javascript:;" target="_blank">YouTube</a></li> '+'<li><a class="gp-icon-pinterest" title="Pinterest" href="javascript:;" target="_blank">Pinterest</a></li> '+'<!--<li><a class="gp-icon-sinaweibo" title="Sina Weibo" href="javascript:;" target="_blank">Sina Weibo</a></li>--> '+'<li><a class="gp-icon-yahoo" title="Yahoo!" href="javascript:;" target="_blank">Yahoo!</a></li> '+'<li><a class="gp-icon-tuenti" title="Tuenti" href="javascript:;" target="_blank">Tuenti</a></li> '+'</ul> '+'</div> '+'<h3 class="gp-extra-title">Añadelo a tu comunidad</h3> '+'</div> '+'</div>');this.activateListeners();}
jQuery(this.idComponent).find('.add_social_networking').show();}
ShareComponent.prototype.close=function(){jQuery(this.idComponent).find('.add_social_networking').hide();this.dispatchEvent(["close",this.typeModule]);}
ShareComponent.prototype.remove=function(){jQuery(this.idComponent).find('.add_social_networking').remove();}
ShareComponent.prototype.activateListeners=function(){var _this=this;if(jQuery(this.idComponent).find('.gp-extra-content-close-ico').length>0){jQuery(this.idComponent).find('.gp-extra-content-close-ico').on(this.clickEvent,function(e){e.preventDefault();_this.close();});}}
ShareComponent.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{alert('Nothing subscribed to the '+this.eventName+' event!');}};return this;}
ShareComponent.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function SocialComponent(idComponent){this.theEvent=this.CustomEvent("onModulesEvent");this.idComponent=idComponent;this.clickEvent=(navigator.userAgent.match(/iPad/i))?"touchstart":"click";this.typeModule="network";}
SocialComponent.prototype.create=function(){this.theEvent=this.CustomEvent("onModulesEvent");if(jQuery(this.idComponent).find('.add_social_networking').length==0)
{jQuery(this.idComponent).append('<div id="add_social_networking" class="div_container_extra_functionality add_social_networking" style="display: none;">'+'<div class="container_txt_extra_functionality">'+'<h3 class="tit_container_txt_extra_functionality">Añadelo a tu comunidad</h3>'+'<div class="close_div_container_extra_functionality">'+'<a href="javascript:void(0);" title="Cerrar ventana" class="ico_close_extra_functionality">&times;</a>'+'</div>'+'<div id="wrapper_scrollv1">'+'<div class="scrollv">'+'<ul class="ul_add_social_networking" >'+'<li class="facebook_foo"><a href="http://www.facebook.com/sharer.php?u=URL&t=TITLE" title="Valorar v&iacute;deo" target="_blank">Facebook</a></li>'+'<li class="googleplus_foo"><a href="https://plus.google.com/share?url=URL" title="Valorar v&iacute;deo" target="_blank">Google Plus</a></li>'+'<li class="twitter_foo"><a href="http://twitter.com/home?status=TITLE - URL" title="Valorar v&iacute;deo" target="_blank">Twitter</a></li>'+'<li class="linkedin_foo"><a href="http://www.linkedin.com/shareArticle?mini=true&url=http://www.example.com/&title=titulo_del_link&summary=breve_descripcion&source=origen_del_link" title="Valorar v&iacute;deo" target="_blank">Linkedin</a></li>'+'<li class="tumblr_foo"><a href="http://www.tumblr.com/share" title="Valorar v&iacute;deo" target="_blank">Tumblr</a></li>'+'<li class="pinterest_foo"><a href="http://pinterest.com/pin/create/button/?url={permalink}&media={imagen}&description={descripcion}" title="Valorar v&iacute;deo" target="_blank">Pinterest</a></li>'+'</ul>'+'</div></div>'+'</div></div>');this.activateListeners();}
jQuery(this.idComponent).find('.add_social_networking').show();}
SocialComponent.prototype.close=function(){jQuery(this.idComponent).find('.add_social_networking').hide();this.dispatchEvent(["close",this.typeModule]);}
SocialComponent.prototype.remove=function(){jQuery(this.idComponent).find('.add_social_networking').remove();}
SocialComponent.prototype.activateListeners=function(){var _this=this;if(jQuery(this.idComponent).find('.ico_close_extra_functionality').length>0){jQuery(this.idComponent).find('.ico_close_extra_functionality').on(this.clickEvent,function(e){e.preventDefault();_this.close();});}}
SocialComponent.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{alert('Nothing subscribed to the '+this.eventName+' event!');}};return this;}
SocialComponent.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function SliderComponent(idComponent){this.theEvent=this.CustomEvent("onModulesEvent");this.idComponent=idComponent;this.clickEvent=(navigator.userAgent.match(/iPad/i))?"touchstart":"click";this.selectedIndex=0;this.interval;this.typeModule="slider";}
SliderComponent.prototype.create=function(sliders){var _this=this;this.theEvent=this.CustomEvent("onModulesEvent");if(sliders!=null&&sliders.length>0){if(jQuery(this.idComponent).find('.gp-display-slider').length==0)
{jQuery(this.idComponent).find('.gp-display-crop').after('<div class="gp-display-slider">'+'<ul class="gp-slider-list">'+_this.createItems(sliders)+'</ul>'+'</div>');}
this.playing();jQuery(this.idComponent).find('.gp-display-slider').show();}}
SliderComponent.prototype.createItems=function(sliders){var result="";var link;var titulo;var entradilla;if(sliders!=null&&sliders.length>0){for(var i=0;i<sliders.length;i++){link=(sliders[i].link)?sliders[i].link:'';titulo=(sliders[i].titulo)?sliders[i].titulo:'';entradilla=(sliders[i].entradilla)?sliders[i].entradilla:'';result+='<li style="z-index: 1'+i+';background-image:url(\''+sliders[i].img+'\');">'+'<a href="javascript:window.open(\''+link+'\');" title="'+titulo+'">'+titulo+'</a>'+'<div class="gp-extra-functionality gp-slider-info-functionality">';if(titulo!=''){result+='<div class="coverLayerTitle">'+'<div class="coverLayerTitleContent">'+'<h1 class="layerTitle">'+titulo+'</h1>'+'<h2 class="layerTitleDescription">'+entradilla+'</h2>'+'</div>'+'</div>';}
result+='</div>'+'</li>';}}
return result;}
SliderComponent.prototype.playing=function(){var _this=this;if(jQuery(this.idComponent).find('.gp-slider-list li').length>1){this.interval=setInterval(function(){for(var i=0;i<jQuery(_this.idComponent).find('.gp-slider-list li').length;i++){jQuery(_this.idComponent).find('.gp-slider-list li:nth-child('+(i+1)+')').css("display","none");}
_this.selectedIndex++;if(_this.selectedIndex>jQuery(_this.idComponent).find('.gp-slider-list li').length-1){_this.selectedIndex=0;}
jQuery(_this.idComponent).find('.gp-slider-list li:nth-child('+(_this.selectedIndex+1)+')').css("display","block");},10000)}}
SliderComponent.prototype.stop=function(){clearInterval(this.interval);}
SliderComponent.prototype.close=function(){jQuery(this.idComponent).find('.reportbaduse_video_player').hide();this.dispatchEvent(["close",this.typeModule]);}
SliderComponent.prototype.remove=function(){jQuery(this.idComponent).find('.reportbaduse_video_player').remove();}
SliderComponent.prototype.activateListeners=function(){var _this=this;if(jQuery(this.idComponent).find('.gp-extra-content-close-ico').length>0){jQuery(this.idComponent).find('.gp-extra-content-close-ico').on(this.clickEvent,function(e){e.preventDefault();_this.close();});}}
SliderComponent.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{alert('Nothing subscribed to the '+this.eventName+' event!');}};return this;}
SliderComponent.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});};function VideoController(config){this.videoData;this.containerPlayerDiv;this.pl;this.completeReached=false;this.impressionsReached=false;this.firstQuartileReached=false;this.midpointReached=false;this.thirdQuartileReached=false;this.skipAdReached=false;this.metadataLoaded=false;this.intervalTime;this.isFlashEnabled=false;this.controls;this.theEvent;this.controllerId;this.sendVisit;this.layerTitle;this.module;this.config=config;this.volume=50;this.seeking=false;this.EVENT_TYPES={LOAD:1,PLAY:2};this.isLike=false;this.isVoizzupLoaded=false;this.streamsense=new ns_.StreamSense({},'http://b.scorecardresearch.com/p?c1=2&c2=15131279');}
VideoController.prototype.loadData=function(url,controllerId,isFlashEnabled,callBackDataLoaded){var msj="";var _this=this;this.controllerId=controllerId;this.theEvent=this.CustomEvent("OnVideoControllerEvent");this.videoData=new VideoData();this.isFlashEnabled=isFlashEnabled;this.containerPlayerDiv='#container_player_'+controllerId;this.videoData.isFlashEnabled=isFlashEnabled;this.videoData.load(url,controllerId,function(data,message){switch(message){case"success":msj="data_loaded";_this.sendVisit=new SendVisitComponent(isFlashEnabled,this.config);_this.sendVisit.sendVisit(_this.videoData,_this.EVENT_TYPES.LOAD);_this.controls=new ControlsComponent(_this.containerPlayerDiv,_this.config);_this.layerTitle=new DisplayComponent(_this.containerPlayerDiv,_this.videoData.isPlayerAudio(),_this.config);_this.controls.createControls(_this.videoData.isPlayerAudio());_this.layerTitle.create(_this.videoData.getUrlCrop(),_this.videoData.getTitle(),_this.videoData.getDescription());_this.controls.setTitle(_this.videoData.getTitle());_this.controls.setIntroduction(_this.videoData.getIntroduction());if(_this.videoData.getTotalVideoContent()>1&&_this.config.isLive==false){_this.controls.displayListInfo(true);_this.controls.setListInfo(_this.videoData.getIndexContent(),_this.videoData.getTotalVideoContent());}else{_this.controls.displayListInfo(false);}
_this.controls.theEvent.subscribe(function(sender,eventArgs){_this.controlsEvent(sender.controllerId,eventArgs.message);});_this.layerTitle.theEvent.subscribe(function(sender,eventArgs){_this.controlsEvent(sender.controllerId,eventArgs.message);});if(!detectAndroid())
_this.controls.displayControls(_this.config.showRadioFormat)
if(_this.videoData.getItemSelected()==undefined){msj="data_failed";}
if(_this.config.autoPlay&&_this.config.autoPlay==true){_this.play();}
_this.streamsense.setPlaylist();break;case"error":msj="data_failed";break;}
callBackDataLoaded(data,msj);});}
VideoController.prototype.controlsEvent=function(controllerId,message){var _this=this;switch(message[0]){case"onclickplay":if(!detectmob()){this.layerTitle.displayLoading(true);}
this.play();break;case"onclickpause":this.pause();break;case"onclickseek":this.seekTo(message[1]);this.layerTitle.displayLoading(true);break;case"onclickvolume":this.setVolume(message[1]);break;case"onclickmute":case"onclickunmute":case"onclickvolmax":this.setVolume(message[1]);break;case"onclickfullscreen":toggleFullScreen();break;case"onclickvotar":if(typeof this.module!="undefined"){this.module.remove();}
this.module=new RatingComponent(this.containerPlayerDiv);this.module.create();this.module.theEvent.subscribe(function(sender,eventArgs){_this.onModuleEvent(sender.idComponent,eventArgs.message);});break;case"onclickembed":if(typeof this.module!="undefined"){this.module.remove();}
this.contract(false);this.module=new EmbedComponent(this.containerPlayerDiv);this.module.create(this.videoData.getServices().embed,this.videoData.getItemSelected().urlDownload);this.module.theEvent.subscribe(function(sender,eventArgs){_this.onModuleEvent(sender.idComponent,eventArgs.message);});changeColor();break;case"onclickcensor":if(typeof this.module!="undefined"){this.module.remove();}
this.module=new CensorComponent(this.containerPlayerDiv);this.module.create();this.module.theEvent.subscribe(function(sender,eventArgs){_this.onModuleEvent(sender.idComponent,eventArgs.message);});break;case"onclickcompartir":if(typeof this.module!="undefined"){this.module.remove();}
this.module=new ShareComponent(this.containerPlayerDiv);this.module.create();this.module.theEvent.subscribe(function(sender,eventArgs){_this.onModuleEvent(sender.idComponent,eventArgs.message);});break;case"onclickconfig":if(typeof this.module!="undefined"){this.module.remove();}
this.module=new ConfigComponent(this.containerPlayerDiv,this.parseQualities(this.pl.getAvailableQualityLevels()));this.module.create(this.pl.getPlaybackQuality());this.module.theEvent.subscribe(function(sender,eventArgs){_this.onModuleEvent(sender.idComponent,eventArgs.message);});break;case"onclickenviar":if(typeof this.module!="undefined"){this.module.remove();}
this.module=new SendVideoComponent(this.containerPlayerDiv);this.module.create(this.videoData);this.module.theEvent.subscribe(function(sender,eventArgs){_this.onModuleEvent(sender.idComponent,eventArgs.message);});break;case"onclicklike":if(typeof this.module!="undefined"){this.module.remove();}
this.module=new LikeComponent(this.containerPlayerDiv);this.module.theEvent.subscribe(function(sender,eventArgs){_this.onModuleEvent(sender.idComponent,eventArgs.message);});this.module.sendLike(this.videoData,this.isFlashEnabled);break;case"onclicknext":this.playNextItem();break;case"onclickad":this.openAd();break;case"onclickprevious":this.playPreviousItem();break;}}
VideoController.prototype.openAd=function(){try{if(this.videoData.getItemSelected().isPubli){if(this.pl&&this.pl.getUrlClick){window.open(this.pl.getUrlClick());}else{window.open(this.videoData.getItemSelected().servers[0].url_click);}}}catch(error){console.log("no se ha podido abrir la página del anunciante");}}
VideoController.prototype.pause=function(){if(this.pl)
this.pl.pause();}
VideoController.prototype.play=function(){if(this.pl&&this.pl.paused){this.playVideo();}
else{this.createPlayer();}}
VideoController.prototype.seekTo=function(percent){if(this.pl)
this.seeking=true;this.pl.seekTo(percent);}
VideoController.prototype.setVolume=function(percent){this.volume=percent;if(this.pl)
this.pl.setVolume(percent);}
var event_previou;VideoController.prototype.createPlayer=function(){var _this=this;if(this.videoData.getItemSelected().isYT){this.removePlayer(this.videoData.getId());this.pl=new YoutubePlayer(this.videoData.getId());this.pl.createPlayer(this.containerPlayerDiv,this.videoData.getItemSelected());this.pl.theEvent.subscribe(function(sender,eventArgs){_this.onPlayStatusEvent(sender.id,eventArgs.message);});}else if(this.videoData.getItemSelected().isVimeo){this.removePlayer(this.videoData.getId());this.pl=new VimeoPlayer(this.videoData.getId());this.pl.createPlayer(this.containerPlayerDiv,this.videoData.getItemSelected());this.pl.theEvent.subscribe(function(sender,eventArgs){_this.onPlayStatusEvent(sender.id,eventArgs.message);});}else{if((this.videoData.getItemSelected().src=="")&&(this.videoData.getItemSelected().isPubli)){if(this.isFlashEnabled){this.removePlayer(this.videoData.getId());this.pl=new FlashAdPlayer(this.videoData.getId());this.pl.createPlayer(this.containerPlayerDiv,this.videoData.getItemSelected());this.pl.theEvent.subscribe(function(sender,eventArgs){_this.onPlayStatusEvent(sender.id,eventArgs.message);});this.pl.play();}else{this.getPreroll(this.videoData.getId());}}else{if(!(this.videoData.pl instanceof NativePlayer)){if(this.isFlashEnabled){this.removePlayer(this.videoData.getId());this.pl=new FlashPlayer(this.videoData.getId(),this.config.delay_change_stream);}else{if(!this.pl instanceof NativePlayer){this.removePlayer(this.videoData.getId());}
this.pl=new NativePlayer(this.videoData.getId());}}
this.pl.createPlayer(this.containerPlayerDiv,this.videoData.getItemSelected(),this.videoData.getTimeToCloseConnection());try{if(!this.isVoizzupLoaded&&!this.videoData.getItemSelected().isPubli){this.activateVoizzup();this.isVoizzupLoaded=true;}}catch(error){console.log("error en la estadísticas de voizzup "+error.toString());}
this.pl.theEvent.subscribe(function(sender,eventArgs){if(event_previou!=eventArgs.message[0]||eventArgs.message[0]=="time"){_this.onPlayStatusEvent(sender.id,eventArgs.message);}
event_previou=eventArgs.message[0];});this.pl.showControls(detectmob());if(!detectmob()){this.pl.play();}else{if(this.videoData.getItemSelected().isPubli==false){this.pl.play();}}}
this.streamsense.setClip(this.videoData.getClipSelected());}}
VideoController.prototype.onPlayStatusEvent=function(videoId,status){switch(status[0]){case"buffering":this.layerTitle.displayLoading(true);this.streamsense.notify(ns_.StreamSense.PlayerEvents.BUFFER,{},status[1]);case"suspend":break;case"start":this.contract(this.videoData.isItemAudioSelected());this.controls.setTitle(this.videoData.getItemSelected().title);this.controls.setListInfo(this.videoData.getIndexContent(),this.videoData.getTotalVideoContent());this.controls.displayPause(true);this.controls.loadingDuration();this.controls.showControls();this.layerTitle.displayLoading(false);this.layerTitle.displayPlayButton(false);if(this.videoData.getItemSelected().trackInfo){this.trackInfo=new InfoTrackComponent(this.containerPlayerDiv,this.videoData.getItemSelected().trackInfo);this.trackInfo.create();}
this.getLike();this.controls.setVolume(this.volume);this.pl.setVolume(this.volume);isFirstTime=true;if(this.videoData.getItemSelected().vast)
this.videoData.getItemSelected().vast.throwStartImpressions();if(this.videoData.getItemSelected().isPubli){this.layerTitle.displayPlayingRadio(false);this.controls.displayControls(false);this.sendImpression();}else{if(this.config.showRadioFormat&&this.config.showRadioFormat==true){this.layerTitle.displayPlayingRadio(false);}else{if(this.videoData.isPlayerAudio()){var slid=this.videoData.getSlider();if(slid.length>0){var slidComp=new SliderComponent(this.containerPlayerDiv);slidComp.create(slid);}
this.layerTitle.displayPlayingRadio(true);}}
if(this.sendVisit){this.sendVisit.sendVisit(this.videoData,this.EVENT_TYPES.PLAY);}}
if(this.pl.getAvailableQualityLevels().length>0&&this.config.configuration){this.controls.displayButton(".gp-configuration",true);}else{this.controls.displayButton(".gp-configuration",false);}
this.streamsense.notify(ns_.StreamSense.PlayerEvents.PLAY,{},status[1]);this.dispatchEvent(["start"]);break;case"end":var _this=this;this.layerTitle.displayLoading(true);this.controls.setTitle("");this.layerTitle.displayPlayButton(true);this.controls.displayControls(false);this.layerTitle.displayPlayingRadio(false);if(this.videoData.getItemSelected().vast)
this.videoData.getItemSelected().vast.throwCompleteImpressions();if(this.sendVisit){}
this.streamsense.notify(ns_.StreamSense.PlayerEvents.END,{},status[1]);setTimeout(function(){_this.playNextItem()},500);break;case"error":this.layerTitle.displayPlayButton(false);this.controls.displayControls(false);this.layerTitle.displayPlayingRadio(false);this.dispatchEvent(["error"]);break;case"click":this.play();break;case"paused":this.controls.displayPause(false);this.layerTitle.displayPlayingRadio(false);if(this.trackInfo){this.trackInfo.desactivateInterval();}
this.dispatchEvent(["paused"]);this.streamsense.notify(ns_.StreamSense.PlayerEvents.PAUSE,{},status[1]);break;case"playing":if(this.videoData.getItemSelected().isPubli){this.layerTitle.displayCoverAd(true);}else{this.controls.displayControls(true);}
this.layerTitle.displayLoading(false);this.controls.displayPause(true);this.layerTitle.displayPlayButton(false);if(!this.videoData.getItemSelected().isPubli){if(this.config.showRadioFormat&&this.config.showRadioFormat==true){this.layerTitle.displayPlayingRadio(false);}else{this.layerTitle.displayPlayingRadio(true);}}
if(this.trackInfo){this.trackInfo.activateInterval();}
this.streamsense.notify(ns_.StreamSense.PlayerEvents.PLAY,{},status[1]);this.dispatchEvent(["playing"]);break;case"loadeddata":this.layerTitle.displayLoading(false);this.controls.displayControls(!this.videoData.getItemSelected().isPubli);this.controls.setTitle(this.videoData.getItemSelected().title);this.controls.setDuration(status[2]);this.controls.setCurrentTime(status[1]);break;case"time":this.controls.setCurrentTime(status[1]);if(this.seeking==true){this.layerTitle.displayLoading(false);this.seeking=false;}
if(status[2]&&status[2]>0){this.controls.setDuration(status[2]);this.layerTitle.setRemainingTime(status[2]-status[1]);}
var percent=this.percentPlayback(status[1],status[2]);if(this.videoData.getItemSelected().vast){if(percent>=25&&this.firstQuartileReached==false)
{this.firstQuartileReached=true;this.videoData.getItemSelected().vast.throwTrackingsByType('firstQuartile');}
else if(percent>=50&&this.midpointReached==false)
{this.midpointReached=true;this.videoData.getItemSelected().vast.throwTrackingsByType('midpoint');}
else if(percent>=75&&this.thirdQuartileReached==false)
{this.thirdQuartileReached=true;this.videoData.getItemSelected().vast.throwTrackingsByType('thirdQuartile');}}
if(this.videoData.getItemSelected().isPubli&&this.config.skipAd>0&&(status[2]-status[1])<this.config.skipAd&&this.skipAdReached==false){this.skipAdReached=true;this.layerTitle.displaySkipAd(true);this.dispatchEvent(["showButtonAd"]);}
if(this.videoData.getItemSelected().isPubli&&status[1]>0&&status[1]>(status[2]-2)){this.layerTitle.displayCoverAd(false);}
break;case"onQualityChange":break;}}
VideoController.prototype.percentPlayback=function(currentTime,duration)
{if(duration>0)
{return duration>0?parseInt(100*currentTime/duration):0;}else{return 0;}}
VideoController.prototype.removePlayer=function(videoId){if(this.pl){this.pl.removePlayer();this.pl=undefined;}}
VideoController.prototype.playVideo=function(){if(this.pl&&this.pl.paused){this.pl.play();}}
VideoController.prototype.playNextItem=function(){var _this=this;this.resetDataPlayer();var id=this.videoData.getItemSelected().id;if(this.videoData.setNextItem()){this.dispatchEvent(["end"]);this.play();}else{this.removePlayer(id);this.module=new EndVideoComponent(this.containerPlayerDiv);this.module.create();this.module.theEvent.subscribe(function(sender,eventArgs){_this.onModuleEvent(sender.idComponent,eventArgs.message);});this.layerTitle.displayLoading(false);this.layerTitle.displayPlayButton(true);this.controls.displayControls(false);this.dispatchEvent(["endOfReproduction"]);}}
VideoController.prototype.onModuleEvent=function(videoId,status){try{switch(status[0]){case"close":if(status[1]&&status[1]=="endvideo"){this.play();}
this.contract(true);this.module.remove();this.module=undefined;break;case"qualitySelected":this.pl.setPlaybackQuality(status[2]);break;case"success":if(status[1]&&status[1]=="like"){var numVotos=0;if(status[2]){numVotos=status[2].data.num_valuations;if(status[2].error==1){this.isLike=true;this.controls.activateLike(true);}else{this.controls.activateLike(false);}}}
break;case"failed":if(status[1]&&status[1]=="like"){var numVotos=0;if(status[2])numVotos=status[2].data.num_valuations;this.controls.activateLike(false);}
break;}}catch(error){}}
VideoController.prototype.playPreviousItem=function(){this.resetDataPlayer();var id=this.videoData.getItemSelected().id;if(this.videoData.setPreviousItem()){this.dispatchEvent(["end"]);if(this.pl.theEvent)this.pl.theEvent.unsubscribe();this.play();}else{this.removePlayer(id);this.dispatchEvent(["endOfReproduction"]);}}
VideoController.prototype.resetDataPlayer=function(){if(this.pl&&this.pl.paused)this.pl.play();this.resetTrackingVariables();if(this.pl)this.pl.isMuted(false);}
VideoController.prototype.resetTrackingVariables=function(){this.completeReached=false;this.impressionsReached=false;this.firstQuartileReached=false;this.midpointReached=false;this.thirdQuartileReached=false;this.metadataLoaded=false;this.skipAdReached=false;clearInterval(this.intervalTime);}
VideoController.prototype.getUrlCrop=function(){return this.videoData.getUrlCrop();}
VideoController.prototype.CustomEvent=function(){this.eventName=arguments[0];var mEventName=this.eventName;var eventAction=null;this.subscribe=function(fn){eventAction=fn;};this.fire=function(sender,eventArgs){if(eventAction!=null){eventAction(sender,eventArgs);}
else{alert('Nothing subscribed to the '+this.eventName+' event!');}};return this;}
VideoController.prototype.dispatchEvent=function(arg){this.theEvent.fire(this,{message:arg});}
VideoController.prototype.getPreroll=function(videoId){var _this=this;var vastData=new VastData();vastData.load(videoId,this.videoData.getItemSelected().srcPubli,function(videoId,status,vast){switch(status){case"vastLoaded":_this.videoData.getItemSelected().vast=vast;_this.videoData.getItemSelected().src=vast.getMedia();_this.videoData.getItemSelected().urlClick=vast.getClickThrough();_this.videoData.getItemSelected().idCampaing=vast.getCompaingId();_this.videoData.getItemSelected().skipAd=vast.getSkipAd();_this.videoData.getItemSelected().isYT=(_this.videoData.getCodeTY(_this.videoData.getItemSelected().src)=="")?false:true;_this.videoData.getItemSelected().srcYT=_this.videoData.getCodeTY(_this.videoData.getItemSelected().src);if(_this.videoData.getItemSelected().src!=""){_this.createPlayer();}else{_this.playNextItem();}
break;case"vastError":_this.getNextAdServer(videoId);break;default:break;}});}
VideoController.prototype.getNextAdServer=function(videoId){numServers=0;if(this.videoData.getItemSelected().servers&&this.videoData.getItemSelected().servers.length){numServers=this.videoData.getItemSelected().servers.length;}
if(this.videoData.getItemSelected().indexServerSelected<numServers-1){this.videoData.getItemSelected().indexServerSelected++;this.videoData.getItemSelected().srcPubli=this.videoData.getItemSelected().servers[this.videoData.getItemSelected().indexServerSelected].url;this.videoData.getItemSelected().adServerId=this.videoData.getItemSelected().servers[this.videoData.getItemSelected().indexServerSelected].adserverId;this.getPreroll(videoId);}else{this.playNextItem(videoId);}}
VideoController.prototype.parseQualities=function(qualities){var result=new Array;var obj;for(var i=0;i<qualities.length;i++){obj=new Object();obj.value=qualities[i];obj.text=qualities[i];result.push(obj);}
return result;}
VideoController.prototype.getLike=function(){var _this=this;if(typeof this.module!="undefined"){this.module.remove();}
this.module=new LikeComponent(this.containerPlayerDiv);this.module.theEvent.subscribe(function(sender,eventArgs){_this.onModuleEvent(sender.idComponent,eventArgs.message);});this.module.getLike(this.videoData,this.isFlashEnabled);}
VideoController.prototype.sendImpression=function(){try{jQuery('body').append('<img id="impresion" src="'+this.videoData.getItemSelected().servers[0].url_impression+'" style="display:none;"></img>');}catch(error){}}
VideoController.prototype.contract=function(isContract){try{var alto=this.controls.getHeight();var altoVideo=parseInt(jQuery(this.containerPlayerDiv).width()*(9/16));if(this.config.showRadioFormat&&this.config.showRadioFormat==true){if(isContract==true){jQuery(this.containerPlayerDiv).animate({height:alto},500);}else{jQuery(this.containerPlayerDiv).animate({height:altoVideo},500);}}}catch(error){}}
VideoController.prototype.showContractView=function(isContract){try{var alto=this.controls.getHeight();var altoVideo=jQuery(this.containerPlayerDiv).width()*(9/16);this.contract(true);}catch(error){}}
function requestFullScreen(divObj){if(divObj&&divObj.length>0){if(divObj[0].webkitSupportsFullscreen){divObj[0].webkitEnterFullscreen();}}}
function toggleFullScreen(){if((navigator.userAgent.match(/iPad/i))){requestFullScreen(jQuery('.my_video'));}else if((navigator.userAgent.match(/MSIE/i))){var obj;if(isFlashEnabled()){obj=jQuery('.my_video');}else{obj=jQuery('#player_585573_flash');}
if(obj.length>0){var divObj=obj[0];if(divObj.requestFullscreen){divObj.requestFullscreen();}
else if(divObj.msRequestFullscreen){divObj.msRequestFullscreen();}
else if(divObj.mozRequestFullScreen){divObj.mozRequestFullScreen();}
else if(divObj.webkitRequestFullscreen){divObj.webkitRequestFullscreen();}else{}}}else{if((document.fullScreenElement&&document.fullScreenElement!==null)||(!document.mozFullScreen&&!document.webkitIsFullScreen)){if(document.documentElement.requestFullScreen){document.documentElement.requestFullScreen();}else if(document.documentElement.mozRequestFullScreen){document.documentElement.mozRequestFullScreen();}else if(document.documentElement.webkitRequestFullScreen){document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);}}else{if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}}}}
VideoController.prototype.activateVoizzup=function(){try{VOIZZUP={};$.rloader([{src:'http://staging.voizzup.com/javascript/listener.js'},{event:'onready',func:'loadVoizzupListener',arg:this.pl}]);}catch(error){console.log("[VideoController]voizzup error en la carga");}}
function loadVoizzupListener(player){$.rloader([{src:'http://staging.voizzup.com/assets/eventlistener.js'},{event:'onready',func:'loadVoizzupEventListener',arg:player}]);}
function loadVoizzupEventListener(player){VOIZZUP.eventlistener=VOIZZUP.eventlistener($,$(this),$(player),VOIZZUP.listener.id,'http://staging.voizzup.com');VOIZZUP.eventlistener.listen();$.rloader([{src:'http://staging.voizzup.com/assets/pooler.js'},{event:'onready',func:'loadVoizzupPooler',arg:player}]);}
function loadVoizzupPooler(player){VOIZZUP.pooler=VOIZZUP.pooler($(player),20);};var videoDatas=new HashTable();var videoControllers=new HashTable();var clickEvent=(navigator.userAgent.match(/iPad/i))?"touchstart":"click";var time_to_close_connection=3600;VOIZZUP={};var config={sendfriend:true,share:false,rating:false,censor:false,isLive:false,censor:false,embed:false,like:false,volume:true,configuration:false,fullscreen:true,isAdminType:false,showRadioFormat:true,autoPlay:true,delay_change_stream:8};function loadPlayer(controllerId)
{if(typeof new_config!='undefined'){config=new_config;}
if(undefined!=controllerId)
{loadPlayerHtml5(controllerId);}else{showErrorMessage(controllerId,"No se ha podido cargar el player");}
if(config.basicColor)changeColor();}
function loadPlayerHtml5(controllerId)
{var playerDiv='player_'+controllerId;var urlServiceVideo=jQuery('#'+playerDiv).attr('rel');videoControllers.setItem(controllerId,new VideoController(config));videoControllers.getItem(controllerId).loadData(urlServiceVideo,controllerId,isFlashEnabled(),vcStatus);videoControllers.getItem(controllerId).theEvent.subscribe(function(sender,eventArgs){handlerVideoControllerEvent(sender.controllerId,eventArgs.message);});}
function handlerVideoControllerEvent(controllerId,message){switch(message[0]){case"end":break;case"start":if(config.basicColor)changeColor();break;case"playing":break;case"paused":break;case"error":setTimeout(function(){videoControllers.getItem(controllerId).playNextItem();hideErrorMessage(controllerId)},5000);break;case"endOfReproduction":break;case"showButtonAd":break;}}
function vcStatus(controllerId,message){switch(message){case"data_loaded":activateControlsListeners(controllerId);break;case"data_failed":showErrorMessage(controllerId,"Error al obtener los datos del vídeo");break;}}
function activateControlsListeners(controllerId){var containerPlayerDiv='#container_player_'+controllerId;if(videoControllers.getItem(controllerId).videoData.isPlayerAudio()){videoControllers.getItem(controllerId).controls.showControls();}else{jQuery(containerPlayerDiv).on('mouseleave',function(e){videoControllers.getItem(controllerId).controls.hideControls();});jQuery(containerPlayerDiv).on('mouseenter',function(e){videoControllers.getItem(controllerId).controls.showControls();});}}
function thisMovie(movieName){if(navigator.appName.indexOf("Microsoft")!=-1){return window[movieName];}else{return document[movieName];}}
jQuery(window).bind("beforeunload",function(){})
function sendVisitsBeforeClose(){videoControllers.each(function(k,item){item.sendVisit.sendVisit();});}
function showErrorMessage(controllerId,mensaje){var containerPlayerDiv='#container_player_'+controllerId;if(typeof mensaje=='undefined'||mensaje==''){mensaje="Se ha producido un error";}
if(jQuery(containerPlayerDiv).find('.gp-display-error').length>0){jQuery(containerPlayerDiv).find('.gp-display-error').remove();}
if(jQuery(containerPlayerDiv).find('.gp-display').length>0){jQuery(containerPlayerDiv).find('.gp-display').append('<div class="gp-display-error" style="display:none;"><p>'+mensaje+'</p></div>');}else{jQuery(containerPlayerDiv).append('<div class="gp-display-error" style="display:none;"><p>'+mensaje+'</p></div>');}
jQuery(containerPlayerDiv).find('.gp-display-error').css('opacity',0);jQuery(containerPlayerDiv).find('.gp-display-error').show();jQuery(containerPlayerDiv).find('.gp-display-error').animate({opacity:0.9},500);}
function hideErrorMessage(controllerId){var containerPlayerDiv='#container_player_'+controllerId;jQuery(containerPlayerDiv).find('.gp-display-error').animate({opacity:0},500,function(){jQuery(this).remove();});}
function isFlashEnabled()
{var hasFlash=false;try
{var fo=new ActiveXObject('ShockwaveFlash.ShockwaveFlash');if(fo)hasFlash=true;}
catch(e)
{if(navigator.mimeTypes["application/x-shockwave-flash"]!=undefined&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)hasFlash=true;}
return hasFlash;}
String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');};function detectmob(){if(detectIpad()||detectAndroid()){return true;}
else{return false;}}
function detectAndroid(){if(navigator.userAgent.match(/Android/i)){return true;}
else{return false;}}
function detectIpad(){if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)){return true;}
else{return false;}}
function flashCompanionAd(compxml){var com=new CompanionAd(compxml);drawCompanionAd(com.code,com.click,com.type);}
function hex2rgb(hex,opacity){var h=hex.replace('#','');h=h.match(new RegExp('(.{'+h.length/3+'})','g'));for(var i=0;i<h.length;i++)
h[i]=parseInt(h[i].length==1?h[i]+h[i]:h[i],16);if(typeof opacity!='undefined')h.push(opacity);return'rgba('+h.join(',')+')';}
function changeColor(){if(jQuery('.container_player_html5').width()>=880){jQuery('.container_player_html5').addClass("player-w1200");}else if(jQuery('.container_player_html5').width()<=400){jQuery('.container_player_html5').addClass("player-w240");}
color1=config.basicColor;color2=config.secondaryColor;border=config.border;jQuery('.gp-start,.coverLayerTitle,.gp-loading,.gp-display-adv .closeaddiv,.gp-display-adv .go-content,.gp-display-adv-interface,.gp-interface').css("background",'linear-gradient(to bottom, '+hex2rgb(color1,0.5)+' 0%,'+hex2rgb(color1,0.5)+' 100%)');jQuery('.gp-extra-functionality,.gp-tracking-info-functionality .tracking-info-list li').css("background",'linear-gradient(to bottom, '+hex2rgb(color1,0.5)+' 0%,'+hex2rgb(color1,0.5)+' 100%)');jQuery('.gp-slider-info-functionality').css("background",'none repeat scroll 0 0 transparent');jQuery('.gp-volume-bar-content').css("background",'none repeat scroll 0 0 '+hex2rgb(color1,1));jQuery('gp-loading').css("background",'linear-gradient(to bottom, '+hex2rgb(color1,0.2)+' 0%,'+hex2rgb(color1,0.2)+' 100%)');if(typeof color2!='undefined'){jQuery('.gp-play-bar').css('background','none scroll no-repeat 0 0 '+hex2rgb(color2,1));jQuery('.gp-extra-form input[type=button],.gp-extra-form input[type=submit]').css('background','none scroll no-repeat 0 0 '+hex2rgb(color2,1));jQuery('.gp-configuration-functionality .dd-option-selected').css('background','none scroll no-repeat 0 0 '+hex2rgb(color2,1));jQuery('.gp-tracking-info-functionality .tracking-info-list li.first .tracking-info-item').css('background','none scroll no-repeat 0 0 '+hex2rgb(color2,1));jQuery('.gp-extra-form .gp-button').css('background','none repeat scroll 0 0 '+hex2rgb(color2,1));}
var objThemeHigh=new Object();objThemeHigh.textColor="FFFFFF";objThemeHigh.bgColor="000000";objThemeHigh.bgColorImg50=APP_URL+"img/video/000000_50.png";objThemeHigh.spriteButtons=APP_URL+"img/video/sprite-eco-player-1.png";objThemeHigh.spriteButtonsSmall=APP_URL+"img/video/sprite-eco-player-0.png";objThemeHigh.spriteButtonsBig=APP_URL+"img/video/sprite-eco-player-2.png";objThemeHigh.imgLoading=APP_URL+"img/video/gp-loading-1.gif";objThemeHigh.imgRadioLoading=APP_URL+"img/video/gp-radio-loading-1.gif";objThemeHigh.imgLoadingBig=APP_URL+"img/video/gp-loading-2.gif";objThemeHigh.imgRadioLoadingBig=APP_URL+"img/video/gp-radio-loading-2.gif";var objThemeDark=new Object();objThemeDark.textColor="000000";objThemeDark.bgColor="FFFFFF";objThemeDark.spriteButtons=APP_URL+"img/video/sprite-eco-player-fff-1.png";objThemeDark.spriteButtonsSmall=APP_URL+"img/video/sprite-eco-player-fff-0.png";objThemeDark.spriteButtonsBig=APP_URL+"img/video/sprite-eco-player-fff-2.png";objThemeDark.imgLoading=APP_URL+"img/video/gp-loading-fff-1.gif";objThemeDark.imgRadioLoading=APP_URL+"img/video/gp-radio-loading-fff-1.gif";objThemeDark.imgLoadingBig=APP_URL+"img/video/gp-loading-fff-2.gif";objThemeDark.imgRadioLoadingBig=APP_URL+"img/video/gp-radio-loading-fff-2.gif";var selectedTheme=objThemeHigh;if(config.theme=="dark")selectedTheme=objThemeDark;jQuery('.container_player_html5, .container_player_html5 a').css('color',hex2rgb(selectedTheme.textColor,1));jQuery('.container_player_html5 a:hover,.container_player_html5 a:focus').css('color',hex2rgb(selectedTheme.textColor,1));jQuery('.gp-volume-bar-value').css('background','none no-repeat scroll 0 0 '+hex2rgb(selectedTheme.textColor,1));jQuery('.gp-volume-bar').css('background','linear-gradient(to bottom, '+hex2rgb(selectedTheme.textColor,0.25)+' 0%,'+hex2rgb(selectedTheme.textColor,0.25)+' 100%)');jQuery('.gp-extra-form input[type=button],.gp-extra-form input[type=submit],.gp-extra-form input[type=reset],.gp-extra-form .gp-button').css('color',hex2rgb(selectedTheme.textColor,1));jQuery('.gp-extra-form .icon-download').css('background','url("'+selectedTheme.spriteButtons+'") no-repeat scroll -102px -103px transparent');jQuery('.icon').css('background-image','url("'+selectedTheme.spriteButtons+'")');jQuery('.gp-interface-radio .icon').css('background-image','url("'+selectedTheme.spriteButtonsBig+'")');jQuery('.gp-loading-img,.gp-display-radio-box').css('background'+'url("'+selectedTheme.imgLoading+'") no-repeat scroll 50% 50% '+hex2rgb(selectedTheme.bgColor,0.2));jQuery('.gp-display-radio-img').css('background','url("'+selectedTheme.imgRadioLoading+'") no-repeat scroll 50% 50% transparent');if(typeof border=='undefined'){border=3;}
jQuery('.gp-start,.gp-start-link,.coverLayerTitle,.gp-display-adv .closeaddiv,.gp-display-adv .go-content,.gp-volume-bar-content,.icon-mute-btn.active,.icon-unmute-btn.active,.gp-display-radio-box,.gp-replay-link').css('border-radius',border+'px');jQuery('.container_player_html5').css('border-radius',border+'px')
jQuery('.gp-extra-form input,.gp-extra-form textarea,.gp-extra-form .gp-button').css('border-radius',border+'px');jQuery('.gp-extra-message').css('border-radius',border+'px');jQuery('.gp-configuration-functionality .dd-select,.gp-configuration-functionality .dd-options').css('border-radius',border+'px');jQuery('.gp-extra-social-list li,.gp-extra-social-list li a').css('border-radius',border+'px');jQuery('.gp-tracking-info-functionality .tracking-info-list').css('border-radius',border+'px');jQuery('.gp-tracking-info-functionality .tracking-info-list li.first').css('border-radius',border+'px');jQuery('.gp-tracking-info-functionality .tracking-info-list li.last').css('border-radius',border+'px');}